<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS选择器世界 | Notebook</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="个人学习记录，资料收集备忘">
    
    <link rel="preload" href="/assets/css/0.styles.6905d551.css" as="style"><link rel="preload" href="/assets/js/app.377ebb8d.js" as="script"><link rel="preload" href="/assets/js/2.3ff17b28.js" as="script"><link rel="preload" href="/assets/js/16.0f08803f.js" as="script"><link rel="prefetch" href="/assets/js/10.e0665bde.js"><link rel="prefetch" href="/assets/js/11.75b0e6df.js"><link rel="prefetch" href="/assets/js/12.3b062665.js"><link rel="prefetch" href="/assets/js/13.49d0da8a.js"><link rel="prefetch" href="/assets/js/14.f17b3ad7.js"><link rel="prefetch" href="/assets/js/15.920a5ec9.js"><link rel="prefetch" href="/assets/js/17.f9597354.js"><link rel="prefetch" href="/assets/js/18.a6cf6487.js"><link rel="prefetch" href="/assets/js/19.2134f4eb.js"><link rel="prefetch" href="/assets/js/20.31170820.js"><link rel="prefetch" href="/assets/js/21.b655d938.js"><link rel="prefetch" href="/assets/js/22.1fd5d38a.js"><link rel="prefetch" href="/assets/js/23.2d643e1a.js"><link rel="prefetch" href="/assets/js/24.8a6aa69e.js"><link rel="prefetch" href="/assets/js/25.8a3964a7.js"><link rel="prefetch" href="/assets/js/26.b8c3d73c.js"><link rel="prefetch" href="/assets/js/27.b8ffb725.js"><link rel="prefetch" href="/assets/js/28.3ad7fe69.js"><link rel="prefetch" href="/assets/js/29.91f82f4b.js"><link rel="prefetch" href="/assets/js/3.ab59f89e.js"><link rel="prefetch" href="/assets/js/30.5cd81caf.js"><link rel="prefetch" href="/assets/js/31.d60c8a8c.js"><link rel="prefetch" href="/assets/js/32.32390379.js"><link rel="prefetch" href="/assets/js/33.a5be0262.js"><link rel="prefetch" href="/assets/js/34.f133cbe1.js"><link rel="prefetch" href="/assets/js/35.43c62a92.js"><link rel="prefetch" href="/assets/js/36.801f2d43.js"><link rel="prefetch" href="/assets/js/37.26eed37a.js"><link rel="prefetch" href="/assets/js/38.6fbf7986.js"><link rel="prefetch" href="/assets/js/39.87b5ff8c.js"><link rel="prefetch" href="/assets/js/4.8519368b.js"><link rel="prefetch" href="/assets/js/40.14747b79.js"><link rel="prefetch" href="/assets/js/41.9231be58.js"><link rel="prefetch" href="/assets/js/42.7712b544.js"><link rel="prefetch" href="/assets/js/43.42a10ddc.js"><link rel="prefetch" href="/assets/js/44.78086a47.js"><link rel="prefetch" href="/assets/js/45.dee7a6e3.js"><link rel="prefetch" href="/assets/js/46.8da62188.js"><link rel="prefetch" href="/assets/js/47.c5598733.js"><link rel="prefetch" href="/assets/js/48.593f6527.js"><link rel="prefetch" href="/assets/js/49.76d7cc0b.js"><link rel="prefetch" href="/assets/js/5.1bc6cf05.js"><link rel="prefetch" href="/assets/js/50.4a35efe5.js"><link rel="prefetch" href="/assets/js/51.6dd65d75.js"><link rel="prefetch" href="/assets/js/52.a89314e2.js"><link rel="prefetch" href="/assets/js/53.2c6b85c4.js"><link rel="prefetch" href="/assets/js/54.73e04800.js"><link rel="prefetch" href="/assets/js/55.189a12ce.js"><link rel="prefetch" href="/assets/js/56.583e3029.js"><link rel="prefetch" href="/assets/js/57.458cfa8a.js"><link rel="prefetch" href="/assets/js/58.146e1aaa.js"><link rel="prefetch" href="/assets/js/59.60f3c481.js"><link rel="prefetch" href="/assets/js/6.3e742d53.js"><link rel="prefetch" href="/assets/js/60.4c8a7df2.js"><link rel="prefetch" href="/assets/js/61.7e814d91.js"><link rel="prefetch" href="/assets/js/62.7f089076.js"><link rel="prefetch" href="/assets/js/63.c930cbaf.js"><link rel="prefetch" href="/assets/js/64.78e10c4c.js"><link rel="prefetch" href="/assets/js/7.dceefd90.js"><link rel="prefetch" href="/assets/js/8.2918149c.js"><link rel="prefetch" href="/assets/js/9.2e4a03b2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6905d551.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Notebook" class="logo"> <span class="site-name can-hide">Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记分类" class="dropdown-title"><span class="title">笔记分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记分类" class="mobile-dropdown-title"><span class="title">笔记分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link router-link-active">
  CSS
</a></li></ul></div></div><div class="nav-item"><a href="http://wanje.gitee.io/learning_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更多
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记分类" class="dropdown-title"><span class="title">笔记分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记分类" class="mobile-dropdown-title"><span class="title">笔记分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link router-link-active">
  CSS
</a></li></ul></div></div><div class="nav-item"><a href="http://wanje.gitee.io/learning_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更多
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/html/a标签的各种用途.html" class="sidebar-link">a标签的各种用途</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/JS零散集.html" class="sidebar-link">JS零散集</a></li><li><a href="/js/数据类型概览.html" class="sidebar-link">JS数据类型概览</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ES6+</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/es6+/Class.html" class="sidebar-link">Class</a></li><li><a href="/js/es6+/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/js/es6+/async-await.html" class="sidebar-link">async/await</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/css/scss语法.html" class="sidebar-link">SCSS基础语法</a></li><li><a href="/css/flex弹性布局.html" class="sidebar-link">flex弹性布局</a></li><li><a href="/css/CSS选择器世界.html" class="active sidebar-link">CSS选择器世界</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#优先级规则概览" class="sidebar-link">优先级规则概览</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#选择器是否区分大小写" class="sidebar-link">选择器是否区分大小写</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#命名合法性" class="sidebar-link">命名合法性</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#选择器设计最佳实践" class="sidebar-link">选择器设计最佳实践</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#后代选择符空格" class="sidebar-link">后代选择符空格</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#子选择符箭头" class="sidebar-link">子选择符箭头（&gt;）</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#相邻兄弟选择符加号" class="sidebar-link">相邻兄弟选择符加号（+）</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#随后兄弟选择符" class="sidebar-link">随后兄弟选择符（~）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#如何实现前面兄弟选择符的效果" class="sidebar-link">如何实现前面兄弟选择符的效果</a></li></ul></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#列选择符" class="sidebar-link">列选择符（||）</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#元素选择器的级联语法" class="sidebar-link">元素选择器的级联语法</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#通配符选择器" class="sidebar-link">通配符选择器*</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#id选择器实际可重复" class="sidebar-link">ID选择器实际可重复</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#属性-值-匹配" class="sidebar-link">属性(值)匹配</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#鼠标经过伪类-hover" class="sidebar-link">鼠标经过伪类 :hover</a></li><li class="sidebar-sub-header"><a href="/css/CSS选择器世界.html#激活状态伪类-active" class="sidebar-link">激活状态伪类 :active</a></li></ul></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>CSS世界</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/css/CSS世界/层叠规则.html" class="sidebar-link">层叠规则</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>绘图&amp;动画</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/draw-animation/D3js.html" class="sidebar-link">D3.js</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Threejs开发指南</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/vue工程配置.html" class="sidebar-link">Vue工程创建及配置</a></li><li><a href="/vue/vue基础语法.html" class="sidebar-link">Vue基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/react工程配置.html" class="sidebar-link">React工程创建及配置</a></li><li><a href="/react/react基础语法.html" class="sidebar-link">React基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/typescript/类型/为什么需要类型.html" class="sidebar-link">为什么需要类型</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>类型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>泛型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>类型转换</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/typescript/模块/CommonJS兼容模块.html" class="sidebar-link">CommonJS兼容模块</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>命名空间</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>理解声明</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/node/Node模块机制.html" class="sidebar-link">Node模块机制与NPM包</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/webpack4.x笔记.html" class="sidebar-link">webpack4.x笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/python基础语法.html" class="sidebar-link">Python基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/others/Markdown语法.html" class="sidebar-link">Markdown语法</a></li><li><a href="/others/Git使用.html" class="sidebar-link">Git使用</a></li><li><a href="/others/Gulp使用.html" class="sidebar-link">Gulp使用</a></li><li><a href="/others/环境&amp;软件安装.html" class="sidebar-link">环境&amp;软件安装</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="css选择器世界"><a href="#css选择器世界" class="header-anchor">#</a> CSS选择器世界</h1> <p></p><div class="table-of-contents"><ul><li><a href="#优先级规则概览">优先级规则概览</a></li><li><a href="#选择器是否区分大小写">选择器是否区分大小写</a></li><li><a href="#命名合法性">命名合法性</a></li><li><a href="#选择器设计最佳实践">选择器设计最佳实践</a></li><li><a href="#后代选择符空格">后代选择符空格</a></li><li><a href="#子选择符箭头">子选择符箭头（&gt;）</a></li><li><a href="#相邻兄弟选择符加号">相邻兄弟选择符加号（+）</a></li><li><a href="#随后兄弟选择符">随后兄弟选择符（~）</a><ul><li><a href="#如何实现前面兄弟选择符的效果">如何实现前面兄弟选择符的效果</a></li></ul></li><li><a href="#列选择符">列选择符（||）</a></li><li><a href="#元素选择器的级联语法">元素选择器的级联语法</a></li><li><a href="#通配符选择器">通配符选择器*</a></li><li><a href="#id选择器实际可重复">ID选择器实际可重复</a></li><li><a href="#属性-值-匹配">属性(值)匹配</a></li><li><a href="#鼠标经过伪类-hover">鼠标经过伪类 :hover</a></li><li><a href="#激活状态伪类-active">激活状态伪类 :active</a></li></ul></div><p></p> <p>CSS选择器分为4类：选择器、选择符、伪类、伪元素。</p> <p>双管道符<code>||</code>表示列关系</p> <p>伪元素的特征是其后面有两个冒号<code>::</code>(旧版本只有一个<code>:</code>)，常见的有<code>::before</code>、<code>::after</code>、<code>::first-letter</code>、<code>::first-line</code>等。</p> <p>CSS选择器的命名空间(兼容性非常好但应用不多)：由<code>@namespace</code>关键字规则声明，使用 <code>spaceName|selector</code>形式应用，管道符<code>|</code>前为声明的空间名，后为选择器。</p> <p>当无效的CSS选择器(包括规范中有但对应浏览器不支持的情况)与浏览器支持的选择器写在一起时，会导致整个选择器无效（如使用逗号并列时，有一个无效则都无效）。</p> <p>CSS选择器是从右往左进行匹配渲染的，如<code>.box&gt;div</code>，是先匹配页面所有的<code>div</code>元素，再匹配<code>.box</code>类名元素。</p> <p><strong><code>:first-of-type</code>、<code>:last-of-type</code>、<code>:nth-of-type()</code>这种类型选择器只对标签选择符有效，对<code>class</code>无效，与<code>class</code>结合使用时其实际也是按照<code>class</code>对应的标签去匹配的</strong></p> <h1 id="选择器优先级"><a href="#选择器优先级" class="header-anchor">#</a> 选择器优先级</h1> <h2 id="优先级规则概览"><a href="#优先级规则概览" class="header-anchor">#</a> 优先级规则概览</h2> <ul><li>0级：通配符选择器<code>*</code>、选择符、逻辑组合伪类；
<ul><li>选择符指<code>+</code>、<code>&gt;</code>、<code>~</code>、空格、<code>||</code>；</li> <li><strong>逻辑组合</strong>伪类有<code>:not()</code>、<code>:is()</code>、<code>:where</code>等，其并不影响CSS优先级，影响优先级的是括号里面的选择器；</li></ul></li> <li>1级：标签选择器，如：<code>div</code>、<code>p</code></li> <li>2级：类选择器、属性选择器、伪类，如：<code>.mgl-0</code>、<code>[attr]</code>、<code>:hover</code></li> <li>3级：ID选择器；</li> <li>4级：style属性内联，即行内样式；</li> <li>5级：<code>!important</code> <ul><li>不要认为使用了该关键字就始终可以覆盖默认样式，有些浏览器自带样式即使使用<code>!important</code>也无法覆盖，这在后面章节会介绍原因（因默认样式、注入样式、用户自定义样式等也存在优先级）</li></ul></li></ul> <p>当CSS选择器的优先级数值一样的时候，后渲染(或加载)的选择器的优先级更高，即同级的后面会覆盖前面。</p> <p>CSS选择器的优先级与DOM元素的层级位置没有任何关系。</p> <p>一个增加CSS选择器优先级的小技巧，那就是重复选择器自身，如<code>.foo.foo</code>，既提高了优先级，又不会增加耦合；如不喜欢该写法，也可以借助必然会存在的属性选择器，如：<code>.foo[class]</code>、<code>#foo[id]</code></p> <h1 id="选择器的命名"><a href="#选择器的命名" class="header-anchor">#</a> 选择器的命名</h1> <h2 id="选择器是否区分大小写"><a href="#选择器是否区分大小写" class="header-anchor">#</a> 选择器是否区分大小写</h2> <p>HTML中，<strong>标签和属性不区分大小写，但属性值要区分大小写</strong>，因此在CSS中：标签选择器不区分大小写、属性选择器中的属性也不区分大小写(但属性值要区分大小写)，而<strong>类选择器和ID选择器本质上是属性值</strong>，所以他们也是要区分大小写的。</p> <h2 id="命名合法性"><a href="#命名合法性" class="header-anchor">#</a> 命名合法性</h2> <p>不能以数字开头，实际并不是严格的不能以数字开头，而是不能直接写数字，需要将其转义一下。其他很多非规范字符只要对它们进行转义重新编码一下也能称为支持的字符类型，想了解可参看3.2章节。</p> <p>命名建议：</p> <ul><li>一般情况下不使用单命名，而是使用组合命名，单命名一般用于和其他选择器进行组合修饰和状态表示；</li> <li>不要使用拼音；</li> <li>从HTML标签中找灵感，因为标签本身就具有语义；</li> <li>从HTML特定属性值中找灵感，因为有些属性就代表了该元素的功能，如radio、checkbox、range等；</li> <li>从CSS伪类和HTML布尔属性中找灵感，如：
<ul><li>激活状态类名<code>.active</code>源自伪类<code>:active</code>；</li> <li>禁用状态类名<code>.disabled</code>源自伪类<code>:disabled</code>或HTML的<code>disabled</code>属性；</li> <li>列表选中状态类名<code>.selected</code>源自HTML的<code>selected</code>属性；</li> <li>选中状态类名<code>.checked</code>源自伪类<code>:checked</code>或HTML的<code>checked</code>属性；</li> <li>出错状态类名<code>.invalid</code>(一般用于表单)源自伪类<code>:invalid</code>；</li></ul></li></ul> <h2 id="选择器设计最佳实践"><a href="#选择器设计最佳实践" class="header-anchor">#</a> 选择器设计最佳实践</h2> <ul><li>不要使用ID选择器（id一般用于JS，应与CSS解耦）；</li> <li>不要嵌套选择器；</li></ul> <p>选择器的性能排序：<code>ID</code> &gt; <code>类</code> &gt; <code>标签</code> &gt; <code>通配符</code> &gt; <code>属性</code> &gt; <code>部分伪类</code>(如<code>:checked</code>)</p> <p>CSS选择器是从右往左进行匹配渲染的，如<code>.box&gt;div</code>，是先匹配页面所有的<code>div</code>元素，再匹配<code>.box</code>类名元素，若页面内容丰富，HTML结构较复杂，<code>div</code>元素多达上千个，同时这样低效的选择器又多，则会带来明显可感知的渲染性能问题。</p> <p>每加深一层嵌套，浏览器在进行选择器匹配的时候就会多计算一层，故也就更容易定义渲染性能产生不好的影响。</p> <p>在使用状态类名是，应遵循一个准则，即状态类型自身绝对不能有CSS样式，只是将其作为一个状态标识符，与其他选择器进行组合应用。</p> <h1 id="精通css选择符"><a href="#精通css选择符" class="header-anchor">#</a> 精通CSS选择符</h1> <h2 id="后代选择符空格"><a href="#后代选择符空格" class="header-anchor">#</a> 后代选择符空格</h2> <p>IE6+支持。</p> <p>CSS选择器是独立于整个页面的，也就是页面中满足匹配规则的都将被匹配。</p> <p><b class="color-warning">重点：</b></p> <p>像<code>querySelectorAll</code>方法(内部查找元素，不包括自身)中的选择器同样也是全局匹配的，什么意思呢看举例说明，例如：<code>document.querySelector('#myId').querySelectorAll('div div')</code>与<code>document.querySelectorAll('#myId div div')</code>是不一样的，前者表示查找<code>#myId</code>元素，再从其所有后代元素查找满足整个页面下<code>div div</code>匹配关系的元素，而后者则只是满足<code>#myId div div</code>关系的元素。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c-2-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#myId div div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 3</span>
</code></pre></div><p>要想<code>querySelectorAll</code>方法后面的选择器不是全局匹配的也是有办法的，可以使用<code>:scope</code>伪类，其作用就是让CSS选择器的作用域局限在某一范围内(调用者内)，例如上面的例子改成下面这样后：</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">':scope div div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1，将作用域限制在了调用者#myId元素内</span>
</code></pre></div><p>在CSS中<code>:scope</code>伪类没啥用，因为如今的网页本来只有一个作用域，但在JS中意义就不一样，更能发挥它的作用，与上面<code>querySelectorAll</code>类似的API还有<code>querySelector()</code>、<code>matches()</code>、<code>Element.closest()</code>。</p> <h2 id="子选择符箭头"><a href="#子选择符箭头" class="header-anchor">#</a> 子选择符箭头（&gt;）</h2> <p>IE7+支持。</p> <p>使用子选择符的主要目的是避免冲突，除此之外尽量不要用，避免带来的高维护成本（因其与HTML的层级关系形成了强绑定，html稍微变一下层级就失效了）。</p> <p>适合使用子选择符的场景：</p> <ol><li>状态类名控制。例如使用<code>.active</code>类名进行状态切换，会遇到祖先和后代都存在<code>.active</code>切换的场景，此时子选择符是必须的，以免影响后代元素，如：<div class="language-css extra-class"><pre class="language-css"><code> <span class="token selector">.active &gt; e-module-x</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div></li> <li>标签受限。例如当<code>&lt;li&gt;</code>标签重复嵌套，同时我们无法修改标签名称或者设置类名的时候（如在使用第三方UI组件的时候），就需要使用子选择符进行精确控制。</li> <li>层级位置与动态判断。例如一个日期选择组件的弹出面板HTML通常会放在<code>&lt;body&gt;</code>元素下，作为<code>&lt;body&gt;</code>的子元素，再绝对定位位置，但有时候需要以静态布局嵌在页面内的某个位置，这时若我们不方便修改组件源码，则就可以借助子选择符快速打一个补丁：<div class="language-css extra-class"><pre class="language-css"><code> <span class="token selector">:not(body) &gt; e-date-panel</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">/* 表示非body下的日历面板就采用相对定位（只是举例） */</span>
</code></pre></div></li></ol> <h2 id="相邻兄弟选择符加号"><a href="#相邻兄弟选择符加号" class="header-anchor">#</a> 相邻兄弟选择符加号（+）</h2> <p>IE7+支持。</p> <p>用于选择<strong>紧邻</strong>的<strong>后面一个</strong>兄弟元素，其会忽略文本节点和注释节点，只认元素节点。</p> <h2 id="随后兄弟选择符"><a href="#随后兄弟选择符" class="header-anchor">#</a> 随后兄弟选择符（~）</h2> <p>IE7+支持。</p> <p>其与相邻兄弟选择符类似，只是其可以选择后面的所有兄弟元素，而非只是紧邻的那一个。</p> <h3 id="如何实现前面兄弟选择符的效果"><a href="#如何实现前面兄弟选择符的效果" class="header-anchor">#</a> 如何实现前面兄弟选择符的效果</h3> <p>并没有前面兄弟选择符，但若只是视觉上的前面，则同样可以使用兄弟选择符实现，因为兄弟选择符选择的后面兄弟是HTML结构上的，并非视觉上的，我们可以让后面的兄弟元素视觉上表现是在前面就行。</p> <p>DOM位置和视觉位置不一致的实现方法很多，常见的如<code>float</code>浮动、<code>position</code>定位、<code>margin</code>外边距偏移、<code>transform</code>变换、<code>direction</code>文档流方向、<code>writing-mode</code>书写模式、<code>flex</code>弹性布局等等。</p> <h2 id="列选择符"><a href="#列选择符" class="header-anchor">#</a> 列选择符（||）</h2> <p>至写该笔记时，目前还没有浏览器实现，想了解可看查阅书籍。</p> <h1 id="元素选择器"><a href="#元素选择器" class="header-anchor">#</a> 元素选择器</h1> <h2 id="元素选择器的级联语法"><a href="#元素选择器的级联语法" class="header-anchor">#</a> 元素选择器的级联语法</h2> <ul><li>元素选择器是唯一不能重复自身的选择器</li> <li>级联使用的时候元素选择器必须写在最前面</li> <li>元素选择器是不区分大小写的（但一般都用小写）</li></ul> <p>虽然元素选择器不能重复自身来在不耦合其他选择器的情况下提高自身的优先级，但是也还是有其他方法在最小耦合下提高同级别优先级：</p> <ul><li>因所有标准HTML页面都有<code>&lt;html&gt;</code>和<code>&lt;body&gt;</code>元素，因此可以借助这些标签提高优先级，而又不耦合其他内容，形成通用；</li> <li>借助<code>:not()</code>伪类，括号里面是任意其他不一样的标签名即可
<ul><li><code>a:not(b)</code></li></ul></li></ul> <p>推荐吧类选择器放在属性值匹配选择器的后面，因为CSS选择器解析是从右往左进行的，类名放在后面性能会更好(虽然现代浏览器来说这完全可以忽略)，类选择器甚至偶偶放在伪类后面(我们常放在伪类前面)。</p> <ul><li><code>[attr=&quot;value&quot;].aclass {}</code></li> <li><code>:hover.aclass {}</code></li></ul> <p>默认IE9+才支持自定义元素标签选择器，若要兼容IE8，则需要在<code>&lt;head&gt;</code>中创建类似如下的JS代码段：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// IE8下需要添加创建自定义标签的JS，后面声明的自定义标签选择器的样式才有效</span>
    document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'cus-tag'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">cus-tag</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="通配符选择器"><a href="#通配符选择器" class="header-anchor">#</a> 通配符选择器<code>*</code></h2> <p>通配符选择器<code>*</code>是一个特殊的标签选择器，它可以指代所有类型的标签元素，包括自定义元素，以及<code>&lt;script&gt;</code>、<code>&lt;style&gt;</code>、<code>&lt;title&gt;</code>等元素，但<strong>不包括伪元素</strong>。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 因通配符不包括伪元素，所以要将样式也应用到所有元素的伪元素就需要像下面的声明 */</span>
<span class="token selector">*,
*::before,
*::after</span> <span class="token punctuation">{</span>
  <span class="token property">box-size</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="属性选择器"><a href="#属性选择器" class="header-anchor">#</a> 属性选择器</h1> <h2 id="id选择器实际可重复"><a href="#id选择器实际可重复" class="header-anchor">#</a> ID选择器实际可重复</h2> <p>可能我们之前的印象中不管是JS的选择器API获取元素，还是CSS的ID选择器设置样式，对于 id 都认为是不能重复的，从语义上将的确如此，我们也推崇不要重复，但语言层面的实际结果来看，语义重复也是可以的，这并不影响功能(JS中不同API会有影响)。原则上我们应该保证ID唯一。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#btn</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">/* 可以同时设置下面的“按钮1”和“按钮2” */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 2</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="属性-值-匹配"><a href="#属性-值-匹配" class="header-anchor">#</a> 属性(值)匹配</h2> <ul><li><code>[attr]</code>，属性匹配</li> <li><code>[attr=&quot;val&quot;]</code>，属性值完全匹配
<ul><li>属性值的引号可省略，如<code>[attr=val]</code>，但若val中有空格，则省略引号时需要对空格进行转义成<code>\0020</code>，如<code>[class=&quot;part1 part2&quot;]</code>=&gt;<code>[class=part1\0020part2]</code></li></ul></li> <li><code>[attr~=&quot;val&quot;]</code>，属性值<strong>独立词组</strong>匹配
<ul><li>即<code>val</code>是属性值中的一个独立词组(与其他部分隔开的独立字符串)，如<code>&lt;p attr=&quot;val part2 part3&quot;&gt;&lt;/p&gt;</code></li> <li>非常适合多种组合属性值的场景，如元素的定位控制可以单独对每个方向进行匹配：<code>&lt;p data-align=&quot;top center&quot;&gt;&lt;/p&gt;</code>=&gt;<code>[data-align~=&quot;top&quot;]</code>、<code>[data-align~=&quot;center&quot;]</code></li></ul></li> <li><code>[attr|=&quot;val&quot;]</code>，属性值开头片段匹配，指属性值要么就是<code>val</code>，要么以<code>val-</code>开头
<ul><li><code>&lt;p attr=&quot;val&quot;&gt;&lt;/p&gt;</code>，匹配</li> <li><code>&lt;p attr=&quot;val-ue&quot;&gt;&lt;/p&gt;</code>，匹配</li> <li><code>&lt;p attr=&quot;val-ue part2&quot;&gt;&lt;/p&gt;</code>，匹配</li> <li><code>&lt;p attr=&quot;value&quot;&gt;&lt;/p&gt;</code>，不匹配</li> <li><code>&lt;p attr=&quot;val part2&quot;&gt;&lt;/p&gt;</code>，不匹配</li> <li><code>&lt;p attr=&quot;part1 val-ue&quot;&gt;&lt;/p&gt;</code>，不匹配</li></ul></li> <li><code>[attr^=&quot;val&quot;]</code>，属性值开头匹配（正则模式），比如<code>a</code>标签链接地址的不同类型展示不同图标(<code>https:</code>、<code>ftp:</code>、<code>tel:</code>、<code>mmailto:</code>等等)</li> <li><code>[attr$=&quot;val&quot;]</code>，属性值结尾匹配（正则模式），比如<code>a</code>标签链接到文件资源时，可以通过匹配文件后缀来展示不同类型文件图标</li> <li><code>[attr*=&quot;val&quot;]</code>，属性值任意匹配（正则模式），该模式在结合JS交互的封装中匹配<code>style</code>属性非常有用(当然最好用<code>class</code>控制样式)
<ul><li>匹配<code>style</code>属性时需注意，JS设置的<code>style</code>中浏览器会自动在CSS的属性和属性值间添加空格隔开，但直接手写在元素上的<code>style</code>中CSS写的什么样就什么样，不会自动添加空格</li> <li>IE7虽然支持属性选择器，但不支持<code>style</code>属性的匹配，即<code>[style]</code>相关的在IE7下不支持</li> <li>IE8下对于可识别的行内样式，其会自动将CSS的属性名转换为大写，而行内CSS在<code>style</code>属性匹配中属于属性值，而属性值默认是严格区分大小写的，所以要进行区分，或者用后面提到的忽略大小写模式<div class="language-css extra-class"><pre class="language-css"><code>[style*=<span class="token string">&quot;display: none&quot;</span>]<span class="token punctuation">,</span> <span class="token comment">/* JS设置而浏览器自动美化的行内样式，或手写加了空格的情况 */</span>
[style*=<span class="token string">&quot;display:none&quot;</span>]<span class="token punctuation">,</span>  <span class="token comment">/* 手写在行内样式且未带空格的情况 */</span>
<span class="token selector">[style*=&quot;DISPLAY: none&quot;]</span> <span class="token punctuation">{</span>  <span class="token comment">/* IE8下浏览器自动将行内可识别的CSS属性值转为了大写的情况 */</span>
  <span class="token comment">/* css body */</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>基于该选择器的<strong>搜索过滤效果</strong>，可应用在通讯录、城市列表等搜索中，性能高，代码少，查看<a href="https://demo.cssworld.cn/selector/6/3-1.php" target="_blank" rel="noopener noreferrer">Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>schBox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>输入城市名称或拼音搜索<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>成都市 chengdu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成都市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>绵阳市 mianyang<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>绵阳市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>达州市 dazhou<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>达州市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>南充市 nanchong<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>南充市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>广安市 guangan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>广安市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> styleEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>styleEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  schBox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> keyWord <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    styleEl<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> keyWord <span class="token operator">?</span> <span class="token string">'[data-search]:not([data-search*=&quot;'</span> <span class="token operator">+</span> keyWord <span class="token operator">+</span> <span class="token string">'&quot;]) { display: none; }'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul></li></ul> <p>以上<code>val</code>都不能为空字符串。</p> <p>前四个IE8+完美支持，IE7也支持，只是个别场景中有瑕疵，且IE7的属性要区分大小写。另须注意在IE低版本或兼容模式下不支持<code>input</code>新的<code>type</code>类型时，浏览器会自动将<code>type</code>属性改为<code>text</code>，此时像<code>[type=&quot;number&quot;]</code>之类的选择器就无法匹配。</p> <p>后三个<code>^</code>、<code>$</code>、<code>*</code>属于属性值正则匹配，IE7+就支持，且匹配<strong>字符片段</strong>就行，不要求是词组，还支持<strong>忽略大小写</strong>(目前移动端可放心使用)，直接在中括号内尾部添加字符<code>i</code>或<code>I</code>，一般都用小写<code>i</code>，如上面的搜索过滤忽略大小写<code>[data-search]:not([data-search*=&quot;keyWord&quot; i]</code>，该模式在搜索匹配用户昵称或账户名时非常有用(因这种场景下大小写混用很常见)。</p> <h1 id="用户行为伪类"><a href="#用户行为伪类" class="header-anchor">#</a> 用户行为伪类</h1> <h2 id="鼠标经过伪类-hover"><a href="#鼠标经过伪类-hover" class="header-anchor">#</a> 鼠标经过伪类 :hover</h2> <p><code>:hover</code>伪类可以用在所有HTML元素上，包括自定义元素。</p> <p><code>:hover</code>触发是即时的，在做浮层显示的时候，可能有时鼠标只是不经意间划过，此时也会触发浮层的立即显示而可能遮挡相邻的其他元素(如自定义的<code>title</code>显示效果)，而被遮挡的相邻元素可能才是我们想要操作的目标元素，这就导致我们要刻意避开这类可能会出现浮层遮挡目标元素的元素，从而影响使用体验。对于该问题，实际可以通过增加<code>:hover</code>延迟效果来增强交互体验，关键代码就是结合<code>transtion</code>使用<code>visibility</code>：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">[data-title]:before</span> <span class="token punctuation">{</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">transtion</span><span class="token punctuation">:</span> visibility 0s 0.2s<span class="token punctuation">;</span>  <span class="token comment">/* transtion 对 display 无过渡效果，但对 visibility 有过渡效果 */</span>
<span class="token punctuation">}</span>
<span class="token selector">[data-title]:hover:before</span> <span class="token punctuation">{</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用<code>visibility: hidden;</code>隐藏元素时，元素的空间位置和大小虽然不会消失，但其并不会影响其他元素的交互，其表现就像<code>opacity: 0;</code>+<code>pointer-events: none;</code>占用着位置却看不见也无法选中和交互也不覆盖遮挡其他元素，这比使用<code>display</code>切换元素的显示与隐藏在某些场景下更适用，且所有浏览器都支持。</p> <p>使用<code>visibility</code>开实现元素<code>:hover</code>时的显示与隐藏有个好处：<span style="color:orange;">其可以结合过渡<code>transtion</code>(IE10+支持)使用来增加延时隐藏，这可以解决当<code>:hover</code>元素与要显示的浮层元素之间存在间隙时，使得鼠标从<code>:hover</code>元素移动到浮层元素时经过这个间隙时(此时已算是移出了hover热区)在过渡时间内浮层元素不会立即隐藏，这对于浮层元素中也允许鼠标进入的情况非常有用</span>。</p> <h2 id="激活状态伪类-active"><a href="#激活状态伪类-active" class="header-anchor">#</a> 激活状态伪类 :active</h2> <ul><li>IE浏览器下<code>:active</code>样式的应用无法冒泡，也就是说当元素和其子元素都设置了<code>:active</code>时，当子元素触发<code>:active</code>时并不会冒泡到上层而触发父元素的<code>:active</code>；</li> <li>IE浏览器下<code>&lt;html&gt;</code>、<code>&lt;body&gt;</code>元素应用<code>:active</code>伪类设置背景色后，背景色是无法还原的，也就是点击是正确应用了<code>:active</code>的背景色，但抬起鼠标后背景色并不会还原，且无论怎么再次点击都无法还原；</li> <li>IE7下链接元素必须失焦后才能取消<code>:active</code>时的样式（原则上鼠标抬起就该还原，而不管该链接元素是否失焦）；</li> <li>键盘访问无法触发<code>:active</code>伪类，<code>:focus</code>到的元素按下回车键时的行为与点击一致，但并不会触发<code>:active</code>伪类；</li> <li>移动端Safari浏览器下<code>:active</code>伪类默认是无效的，需要设置<code>touch</code>事件才支持(可空回调)，若要求高细节还可使用其一个私有CSS属性实现触摸高亮反馈：<div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 touchstart 或 touchend 都可以</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span> <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><code>:active</code>伪类在<del>点击上报中的应用，这种上报即使禁用JS也无法阻止</del>（<span style="color:orange;">实测该应用无效，因CSS内容只会加载一次，这里不会因为每次点击都重新去请求图片</span>）：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 并不能达到上报效果，只有初次点击有效 */</span>
<span class="token selector">.btn:active:after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./px.gif?action=click&amp;id=btn1<span class="token punctuation">)</span></span><span class="token punctuation">;</span>  <span class="token comment">/* 通过请求图片上报信息 */</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token comment">/* 这会导致伪元素直接不会生成，所以始终隐藏状态应该使用 visibility 才有效 */</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/css/flex弹性布局.html" class="prev">
        flex弹性布局
      </a></span> <span class="next"><a href="/css/CSS世界/层叠规则.html">
        层叠规则
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.377ebb8d.js" defer></script><script src="/assets/js/2.3ff17b28.js" defer></script><script src="/assets/js/16.0f08803f.js" defer></script>
  </body>
</html>
