<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reactå·¥ç¨‹åˆ›å»ºåŠé…ç½® | Notebook</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="ä¸ªäººå­¦ä¹ è®°å½•ï¼Œèµ„æ–™æ”¶é›†å¤‡å¿˜">
    
    <link rel="preload" href="/docs/assets/css/0.styles.55326b6c.css" as="style"><link rel="preload" href="/docs/assets/js/app.08fe61ab.js" as="script"><link rel="preload" href="/docs/assets/js/2.7cd822c1.js" as="script"><link rel="preload" href="/docs/assets/js/54.7ef7e175.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.72a9314c.js"><link rel="prefetch" href="/docs/assets/js/11.b2108865.js"><link rel="prefetch" href="/docs/assets/js/12.2c1b2ec9.js"><link rel="prefetch" href="/docs/assets/js/13.c33a225a.js"><link rel="prefetch" href="/docs/assets/js/14.2e22b71a.js"><link rel="prefetch" href="/docs/assets/js/15.dbc68ef0.js"><link rel="prefetch" href="/docs/assets/js/16.84457c51.js"><link rel="prefetch" href="/docs/assets/js/17.52e5273d.js"><link rel="prefetch" href="/docs/assets/js/18.67d4515e.js"><link rel="prefetch" href="/docs/assets/js/19.940b4d57.js"><link rel="prefetch" href="/docs/assets/js/20.e377c5fb.js"><link rel="prefetch" href="/docs/assets/js/21.0c2fa396.js"><link rel="prefetch" href="/docs/assets/js/22.e1c082b5.js"><link rel="prefetch" href="/docs/assets/js/23.4ed3dada.js"><link rel="prefetch" href="/docs/assets/js/24.bd188c1f.js"><link rel="prefetch" href="/docs/assets/js/25.3ad8c116.js"><link rel="prefetch" href="/docs/assets/js/26.33ee5580.js"><link rel="prefetch" href="/docs/assets/js/27.e7cc24c9.js"><link rel="prefetch" href="/docs/assets/js/28.837948e7.js"><link rel="prefetch" href="/docs/assets/js/29.410abe44.js"><link rel="prefetch" href="/docs/assets/js/3.7564b2ae.js"><link rel="prefetch" href="/docs/assets/js/30.cc8eb36b.js"><link rel="prefetch" href="/docs/assets/js/31.7c16d041.js"><link rel="prefetch" href="/docs/assets/js/32.817dddd2.js"><link rel="prefetch" href="/docs/assets/js/33.0386436d.js"><link rel="prefetch" href="/docs/assets/js/34.d0315127.js"><link rel="prefetch" href="/docs/assets/js/35.302cd8ff.js"><link rel="prefetch" href="/docs/assets/js/36.105713b6.js"><link rel="prefetch" href="/docs/assets/js/37.65981373.js"><link rel="prefetch" href="/docs/assets/js/38.f91f63d4.js"><link rel="prefetch" href="/docs/assets/js/39.94ac212c.js"><link rel="prefetch" href="/docs/assets/js/4.f9012dd0.js"><link rel="prefetch" href="/docs/assets/js/40.c15edce9.js"><link rel="prefetch" href="/docs/assets/js/41.2d96d1ec.js"><link rel="prefetch" href="/docs/assets/js/42.70498ef4.js"><link rel="prefetch" href="/docs/assets/js/43.d3df4473.js"><link rel="prefetch" href="/docs/assets/js/44.76241211.js"><link rel="prefetch" href="/docs/assets/js/45.0b20b42d.js"><link rel="prefetch" href="/docs/assets/js/46.e23cf554.js"><link rel="prefetch" href="/docs/assets/js/47.92531c48.js"><link rel="prefetch" href="/docs/assets/js/48.f6a9e1fe.js"><link rel="prefetch" href="/docs/assets/js/49.85b5c3fc.js"><link rel="prefetch" href="/docs/assets/js/5.7340601b.js"><link rel="prefetch" href="/docs/assets/js/50.3bd81e89.js"><link rel="prefetch" href="/docs/assets/js/51.965ef0ca.js"><link rel="prefetch" href="/docs/assets/js/52.9cf46b5a.js"><link rel="prefetch" href="/docs/assets/js/53.ca6c3d21.js"><link rel="prefetch" href="/docs/assets/js/55.41c8c4ed.js"><link rel="prefetch" href="/docs/assets/js/56.4dbd7929.js"><link rel="prefetch" href="/docs/assets/js/57.5436677e.js"><link rel="prefetch" href="/docs/assets/js/58.f1bcf78a.js"><link rel="prefetch" href="/docs/assets/js/59.5387950c.js"><link rel="prefetch" href="/docs/assets/js/6.d4f121f4.js"><link rel="prefetch" href="/docs/assets/js/60.403907d4.js"><link rel="prefetch" href="/docs/assets/js/61.c6417a83.js"><link rel="prefetch" href="/docs/assets/js/62.74a3e44c.js"><link rel="prefetch" href="/docs/assets/js/63.b94e6886.js"><link rel="prefetch" href="/docs/assets/js/64.1f4516ae.js"><link rel="prefetch" href="/docs/assets/js/65.113e7bc2.js"><link rel="prefetch" href="/docs/assets/js/66.5d250d0c.js"><link rel="prefetch" href="/docs/assets/js/67.8f0f3cb7.js"><link rel="prefetch" href="/docs/assets/js/68.9f25558d.js"><link rel="prefetch" href="/docs/assets/js/69.8f2327aa.js"><link rel="prefetch" href="/docs/assets/js/7.198cac72.js"><link rel="prefetch" href="/docs/assets/js/70.c1e17b8c.js"><link rel="prefetch" href="/docs/assets/js/71.ae9a423c.js"><link rel="prefetch" href="/docs/assets/js/72.f10ab930.js"><link rel="prefetch" href="/docs/assets/js/73.96be54ce.js"><link rel="prefetch" href="/docs/assets/js/74.b32342f8.js"><link rel="prefetch" href="/docs/assets/js/75.bdf322be.js"><link rel="prefetch" href="/docs/assets/js/76.cc59617c.js"><link rel="prefetch" href="/docs/assets/js/77.887d7f63.js"><link rel="prefetch" href="/docs/assets/js/78.25d8ca21.js"><link rel="prefetch" href="/docs/assets/js/79.e600fecb.js"><link rel="prefetch" href="/docs/assets/js/8.70a01d30.js"><link rel="prefetch" href="/docs/assets/js/80.039e7dbf.js"><link rel="prefetch" href="/docs/assets/js/81.cb600c59.js"><link rel="prefetch" href="/docs/assets/js/9.d47db3aa.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.55326b6c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/logo.png" alt="Notebook" class="logo"> <span class="site-name can-hide">Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¬”è®°åˆ†ç±»" class="dropdown-title"><span class="title">ç¬”è®°åˆ†ç±»</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¬”è®°åˆ†ç±»" class="mobile-dropdown-title"><span class="title">ç¬”è®°åˆ†ç±»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><a href="https://wanje.github.io/demo_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ›´å¤š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¬”è®°åˆ†ç±»" class="dropdown-title"><span class="title">ç¬”è®°åˆ†ç±»</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¬”è®°åˆ†ç±»" class="mobile-dropdown-title"><span class="title">ç¬”è®°åˆ†ç±»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><a href="https://wanje.github.io/demo_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ›´å¤š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/html/HTMLé›¶æ•£é›†.html" class="sidebar-link">HTMLé›¶æ•£é›†</a></li><li><a href="/docs/html/aæ ‡ç­¾çš„å„ç§ç”¨é€”.html" class="sidebar-link">aæ ‡ç­¾çš„å„ç§ç”¨é€”</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/js/JSé”™é¢˜æœ¬.html" class="sidebar-link">JSé”™é¢˜æœ¬</a></li><li><a href="/docs/js/JSé›¶æ•£é›†.html" class="sidebar-link">JSé›¶æ•£é›†</a></li><li><a href="/docs/js/æ•°ç»„Array.html" class="sidebar-link">æ•°ç»„Array</a></li><li><a href="/docs/js/å­—ç¬¦ä¸²String.html" class="sidebar-link">å­—ç¬¦ä¸²String</a></li><li><a href="/docs/js/è®¡ç®—Math.html" class="sidebar-link">è®¡ç®—Math</a></li><li><a href="/docs/js/äº‹ä»¶Event.html" class="sidebar-link">äº‹ä»¶Event</a></li><li><a href="/docs/js/WebComponents.html" class="sidebar-link">Web Components</a></li><li><a href="/docs/js/Litåˆ›å»ºWebComponents.html" class="sidebar-link">Lit æ¡†æ¶åˆ›å»º Web Components</a></li><li><a href="/docs/js/Fileæ–‡ä»¶API.html" class="sidebar-link">Fileæ–‡ä»¶API</a></li><li><a href="/docs/js/é¼ æ ‡æ‹–æ”¾ä¸æ‹–æ‹½dnd.html" class="sidebar-link">é¼ æ ‡æ‹–æ‹½ä¸æ‹–æ”¾</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ES6+</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/js/es6+/Class.html" class="sidebar-link">Class</a></li><li><a href="/docs/js/es6+/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/docs/js/es6+/async-await.html" class="sidebar-link">async/await</a></li><li><a href="/docs/js/es6+/Proxy.html" class="sidebar-link">Proxy</a></li><li><a href="/docs/js/es6+/Reflect.html" class="sidebar-link">Reflect</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/CSSé›¶æ•£é›†.html" class="sidebar-link">CSSé›¶æ•£é›†</a></li><li><a href="/docs/css/scssè¯­æ³•.html" class="sidebar-link">SCSSåŸºç¡€è¯­æ³•</a></li><li><a href="/docs/css/CSSé€‰æ‹©å™¨ä¸–ç•Œ.html" class="sidebar-link">CSSé€‰æ‹©å™¨ä¸–ç•Œ</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>CSSä¸–ç•Œ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/CSSä¸–ç•Œ/å±‚å è§„åˆ™.html" class="sidebar-link">å±‚å è§„åˆ™</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>CSSæ–°ä¸–ç•Œ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/CSSæ–°ä¸–ç•Œ/ç¬¬6ç« .html" class="sidebar-link">ç¬¬ 6 ç«  å…¨æ–°çš„å¸ƒå±€æ–¹å¼</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç»˜å›¾&amp;åŠ¨ç”»</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/draw-animation/D3js.html" class="sidebar-link">D3.js</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Threejså¼€å‘æŒ‡å—</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/vue/vueå·¥ç¨‹é…ç½®.html" class="sidebar-link">Vueå·¥ç¨‹åˆ›å»ºåŠé…ç½®</a></li><li><a href="/docs/vue/vueåŸºç¡€è¯­æ³•.html" class="sidebar-link">VueåŸºç¡€è¯­æ³•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html" class="active sidebar-link">Reactå·¥ç¨‹åˆ›å»ºåŠé…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#åˆ›å»ºreactå·¥ç¨‹-ä½¿ç”¨å®˜æ–¹craè„šæ‰‹æ¶" class="sidebar-link">åˆ›å»ºreactå·¥ç¨‹ï¼ˆä½¿ç”¨å®˜æ–¹CRAè„šæ‰‹æ¶ï¼‰</a></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#é‡å†™craè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®" class="sidebar-link">é‡å†™CRAè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#æŒ‰éœ€å¼•å…¥antd-éœ€è¦ä½¿ç”¨babel-plugin-importæ’ä»¶" class="sidebar-link">æŒ‰éœ€å¼•å…¥antdï¼Œéœ€è¦ä½¿ç”¨babel-plugin-importæ’ä»¶</a></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#ä½¿ç”¨less" class="sidebar-link">ä½¿ç”¨less</a></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#æ‰©å±•-css-module-ä»¥æ”¯æŒlessæ¨¡å—åŒ–-xxx-module-less" class="sidebar-link">æ‰©å±• CSS Module ä»¥æ”¯æŒlessæ¨¡å—åŒ–ï¼ˆxxx.module.lessï¼‰</a></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#é‡‡ç”¨-css-scoped-æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜-xxx-scoped-less-scss-css" class="sidebar-link">é‡‡ç”¨ CSS Scoped æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜ï¼ˆxxx.scoped.less/scss/cssï¼‰</a></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#è°ƒæ•´autoprefixeræ·»åŠ csså‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´" class="sidebar-link">è°ƒæ•´autoprefixeræ·»åŠ CSSå‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´</a></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#ä½¿ç”¨webpackæ‰“åŒ…åˆ†æ" class="sidebar-link">ä½¿ç”¨webpackæ‰“åŒ…åˆ†æ</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#å…¶ä»–" class="sidebar-link">å…¶ä»–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/react/reactå·¥ç¨‹é…ç½®.html#è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡" class="sidebar-link">è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡</a></li></ul></li></ul></li><li><a href="/docs/react/reactåŸºç¡€è¯­æ³•.html" class="sidebar-link">ReactåŸºç¡€è¯­æ³•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/typescript/ç±»å‹/ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹.html" class="sidebar-link">ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ç±»å‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>æ³›å‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ç±»å‹è½¬æ¢</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/typescript/æ¨¡å—/CommonJSå…¼å®¹æ¨¡å—.html" class="sidebar-link">CommonJSå…¼å®¹æ¨¡å—</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>å‘½åç©ºé—´</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ç†è§£å£°æ˜</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/node/Nodeæ¨¡å—æœºåˆ¶.html" class="sidebar-link">Nodeæ¨¡å—æœºåˆ¶ä¸NPMåŒ…</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/webpack/webpack4.xç¬”è®°.html" class="sidebar-link">webpack4.xç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/python/pythonåŸºç¡€è¯­æ³•.html" class="sidebar-link">PythonåŸºç¡€è¯­æ³•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å…¶ä»–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/others/å‚è€ƒå†…å®¹.html" class="sidebar-link">å‚è€ƒå†…å®¹</a></li><li><a href="/docs/others/lint-format.html" class="sidebar-link">ä»£ç æ£€æŸ¥ä¸æ ¼å¼åŒ–</a></li><li><a href="/docs/others/Markdownè¯­æ³•.html" class="sidebar-link">Markdownè¯­æ³•</a></li><li><a href="/docs/others/Gitä½¿ç”¨.html" class="sidebar-link">Gitä½¿ç”¨</a></li><li><a href="/docs/others/Gulpä½¿ç”¨.html" class="sidebar-link">Gulpä½¿ç”¨</a></li><li><a href="/docs/others/Rollupä½¿ç”¨.html" class="sidebar-link">Rollupä½¿ç”¨</a></li><li><a href="/docs/others/Nginxé…ç½®.html" class="sidebar-link">NginxåŸºç¡€é…ç½®ä¸æ“ä½œ</a></li><li><a href="/docs/others/ç¯å¢ƒ&amp;è½¯ä»¶å®‰è£….html" class="sidebar-link">ç¯å¢ƒ&amp;è½¯ä»¶å®‰è£…</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reactå·¥ç¨‹åˆ›å»ºåŠé…ç½®"><a href="#reactå·¥ç¨‹åˆ›å»ºåŠé…ç½®" class="header-anchor">#</a> Reactå·¥ç¨‹åˆ›å»ºåŠé…ç½®</h1> <p></p><div class="table-of-contents"><ul><li><a href="#åˆ›å»ºreactå·¥ç¨‹-ä½¿ç”¨å®˜æ–¹craè„šæ‰‹æ¶">åˆ›å»ºreactå·¥ç¨‹ï¼ˆä½¿ç”¨å®˜æ–¹CRAè„šæ‰‹æ¶ï¼‰</a></li><li><a href="#é‡å†™craè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®">é‡å†™CRAè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®</a><ul><li><a href="#æŒ‰éœ€å¼•å…¥-antd-éœ€è¦ä½¿ç”¨-babel-plugin-import-æ’ä»¶">æŒ‰éœ€å¼•å…¥antdï¼Œéœ€è¦ä½¿ç”¨babel-plugin-importæ’ä»¶</a></li><li><a href="#ä½¿ç”¨-less">ä½¿ç”¨less</a></li><li><a href="#æ‰©å±•-css-module-ä»¥æ”¯æŒlessæ¨¡å—åŒ–-xxx-module-less">æ‰©å±• CSS Module ä»¥æ”¯æŒlessæ¨¡å—åŒ–ï¼ˆxxx.module.lessï¼‰</a></li><li><a href="#é‡‡ç”¨-css-scoped-æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜-xxx-scoped-less-scss-css">é‡‡ç”¨ CSS Scoped æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜ï¼ˆxxx.scoped.less/scss/cssï¼‰</a></li><li><a href="#è°ƒæ•´-autoprefixer-æ·»åŠ csså‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´">è°ƒæ•´autoprefixeræ·»åŠ CSSå‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´</a></li><li><a href="#ä½¿ç”¨-webpack-æ‰“åŒ…åˆ†æ">ä½¿ç”¨webpackæ‰“åŒ…åˆ†æ</a></li></ul></li><li><a href="#å…¶ä»–">å…¶ä»–</a><ul><li><a href="#è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡">è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡</a></li></ul></li></ul></div><p></p> <h2 id="åˆ›å»ºreactå·¥ç¨‹-ä½¿ç”¨å®˜æ–¹craè„šæ‰‹æ¶"><a href="#åˆ›å»ºreactå·¥ç¨‹-ä½¿ç”¨å®˜æ–¹craè„šæ‰‹æ¶" class="header-anchor">#</a> åˆ›å»ºreactå·¥ç¨‹ï¼ˆä½¿ç”¨å®˜æ–¹CRAè„šæ‰‹æ¶ï¼‰</h2> <p>è‹¥æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨<code>create-react-app</code>(ç®€ç§°<code>CRA</code>)åˆ›å»ºreactå·¥ç¨‹ï¼Œåˆ™éœ€è¦å…¨å±€å®‰è£…ï¼Œä¸‹æ¬¡å°±æ— éœ€å†å®‰è£…äº†ï¼ˆå®˜æ–¹æ–‡æ¡£å»ºè®®ä¸å…¨å±€å®‰è£…ï¼Œè€Œæ˜¯ä½¿ç”¨<code>npx</code>çš„æ–¹å¼åˆ›å»ºï¼Œç›®çš„æ˜¯ç¡®ä¿æ€»æ˜¯ä½¿ç”¨åˆ°æœ€æ–°ç‰ˆæœ¬çš„<code>create-react-app</code>ï¼‰</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> -g create-react-app
</code></pre></div><p>è‹¥æœªå®‰è£…<code>create-react-app</code>åŒ…å°±è¿›è¡Œä¸‹é¢çš„reactå·¥ç¨‹åˆ›å»ºï¼Œåˆ›å»ºçš„å·¥ç¨‹ç»“æ„å°†ç¼ºå°‘å¾ˆå¤šå†…å®¹ï¼ˆåŸºäº<code>v3.4.1</code>å®æ“ç»“æœï¼Œæ–°ç‰ˆæœ¬ä¸å…¨å±€å®‰è£…æ–¹å¼å·²æ— å¼‚ï¼Ÿï¼‰</p> <div class="language-shell extra-class"><pre class="language-shell"><code>npx create-react-app appName  <span class="token comment"># åˆ›å»ºJavaScriptç‰ˆæœ¬å·¥ç¨‹</span>

npx create-react-app appName --template typescript  <span class="token comment"># åˆ›å»ºtypescriptç‰ˆæœ¬å·¥ç¨‹</span>
</code></pre></div><ul><li>æ³¨æ„1ï¼štypescriptåªæ˜¯å¼€å‘ä¾èµ–ï¼Œæ‰€ä»¥è‹¥è‡ªå·±ç”¨å…¶ä»–è„šæ‰‹æ¶å®‰è£…æ—¶è¦å®‰è£…åœ¨å¼€å‘ä¾èµ–ä¸­</li> <li>æ³¨æ„2ï¼šå› å‰é¢å…¨å±€å®‰è£…äº†<code>create-react-app</code>ï¼Œæ‰€ä»¥ä¸Šé¢åˆ›å»ºå·¥ç¨‹ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<code>create-react-app appName</code>çš„æ–¹å¼</li></ul> <h2 id="é‡å†™craè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®"><a href="#é‡å†™craè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®" class="header-anchor">#</a> é‡å†™CRAè„šæ‰‹æ¶éƒ¨åˆ†é…ç½®</h2> <p><code>create-react-app</code>(ç®€ç§°<code>CRA</code>)åˆ›å»ºçš„reactå·¥ç¨‹é»˜è®¤æ˜¯æ²¡æœ‰æš´éœ²ç›¸å…³é…ç½®æ–‡ä»¶çš„ï¼Œè€Œæˆ‘ä»¬æœ‰æ—¶åˆéœ€è¦å»ä¿®æ”¹æˆ–æ‰©å±•éƒ¨åˆ†é…ç½®å†…å®¹ï¼Œä»¥æ»¡è¶³æˆ‘ä»¬è‡ªå·±çš„å·¥ç¨‹éœ€æ±‚æˆ–å¼€å‘æ¨¡å¼ã€‚</p> <p><code>CRA</code>å®˜æ–¹ä¹Ÿæä¾›äº†ä¸¤ç§æ–¹å¼å»è®¾ç½®éƒ¨åˆ†å†…å®¹æˆ–å®Œå…¨æ§åˆ¶ç›¸å…³é…ç½®ï¼š</p> <ul><li>æ–¹å¼ä¸€ï¼šå¯ä»¥é€šè¿‡å…¶æä¾›çš„ä¸€äº›é€‰é¡¹å»åœ¨<code>shell</code>ç¯å¢ƒå˜é‡æˆ–<code>.env</code>æ–‡ä»¶ä¸­è®¾ç½®éƒ¨åˆ†å†…å®¹ï¼Œä½†æ˜¯æ²¡é‚£ä¹ˆç›´è§‚ï¼Œä¹Ÿä¸å¤Ÿå…¨ï¼Œä¸èƒ½æ»¡è¶³æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸€äº›é…ç½®ã€‚</li> <li>æ–¹å¼äºŒï¼šæä¾›äº†<code>npm run eject</code>å‘½ä»¤å°†æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½æš´éœ²å‡ºæ¥ï¼Œä½†æ˜¯è¿™æ ·åšçš„é£é™©è¾ƒå¤§ï¼Œä¸€æ–¹é¢è¿™æ˜¯ä¸€ä¸ªä¸å¯é€†æ“ä½œï¼Œæ‰§è¡Œåæ‰€æœ‰çš„é…ç½®éƒ½éœ€è¦æˆ‘ä»¬è‡ªè¡Œç»´æŠ¤ï¼Œä¹Ÿæ— æ³•è·Ÿéšå®˜æ–¹å¯¹<code>CRA</code>çš„å‡çº§ï¼Œå¦ä¸€æ–¹é¢æš´éœ²å‡ºçš„é…ç½®æ–‡ä»¶å¤šè€Œæ‚ï¼Œä½†å®é™…æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹æˆ–å¢åŠ éƒ¨åˆ†å†…å®¹ï¼Œå…¨æš´éœ²å‡ºæ¥ä¸å¥½ç»´æŠ¤ï¼Œå…¶ä»–å·¥ç¨‹ä¹Ÿä¸å¥½å¤ç”¨ã€‚</li></ul> <p>ç»¼ä¸Šï¼Œæˆ‘ä»¬æƒ³è¦ç»§ç»­ä½¿ç”¨<code>CRA</code>çš„å°é—­ç‰¹ç‚¹å’Œåç»­æ›´æ–°ç‰¹æ€§ï¼Œåˆæƒ³æ ¹æ®è‡ªå·±çš„å·¥ç¨‹è‡ªå®šä¹‰ä¸€äº›é…ç½®æˆ–æ‰©å±•ï¼Œæ•…æœ€å¥½çš„æ–¹å¼å°±æ˜¯é‡‡ç”¨ç¬¬ä¸‰æ–¹æ‰©å±•ï¼Œåªè¦†å†™æˆ‘ä»¬éœ€è¦çš„éƒ¨åˆ†ï¼Œåˆå¯ä»¥ä¸æš´éœ²å‡º<code>CRA</code>æ‰€æœ‰é…ç½®æ–‡ä»¶ã€‚</p> <p>å¯å®‰è£…<code>craco</code>ï¼ˆä½¿ç”¨<code>craco.config.js</code>é…ç½®æ–‡ä»¶ï¼‰æˆ–è€…<code>react-app-rewired</code>å’Œ<code>customize-cra</code>ä¸¤ä¸ªåŒ…ï¼ˆä½¿ç”¨<code>config-overrides.js</code>é…ç½®æ–‡ä»¶ï¼‰ï¼Œç”¨äºé‡å†™<code>CRA</code>è„šæ‰‹æ¶çš„æŸäº›<code>webpack</code>ç­‰é…ç½®ï¼Œè€Œä¸ç”¨æ‰§è¡Œ<code>eject</code>å»æŠŠCRAè„šæ‰‹æ¶æœ¬èº«çš„æ‰€æœ‰é…ç½®æ–‡ä»¶å…¨æš´éœ²å‡ºæ¥ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> @craco/craco
<span class="token comment"># æ·»åŠ å‚æ•°`--save-dev`å®‰è£…ä¸ºå¼€å‘ä¾èµ–å³å¯ï¼Ÿ</span>
<span class="token comment"># é‡‡ç”¨`craco`è¦†å†™CRAåï¼Œ`package.json`ä¸­`scripts`è„šæœ¬ä¸­çš„æ‰€æœ‰`react-scripts`æŒ‡ä»¤å°±éœ€è¦æ¢æˆ`craco`æŒ‡ä»¤</span>
<span class="token comment"># å¦‚ï¼šreact-scripts build ğŸ‘‰ğŸ‘‰ğŸ‘‰ craco build</span>

æˆ–
<span class="token function">npm</span> <span class="token function">install</span> react-app-rewired customize-cra
</code></pre></div><h3 id="æŒ‰éœ€å¼•å…¥antd-éœ€è¦ä½¿ç”¨babel-plugin-importæ’ä»¶"><a href="#æŒ‰éœ€å¼•å…¥antd-éœ€è¦ä½¿ç”¨babel-plugin-importæ’ä»¶" class="header-anchor">#</a> æŒ‰éœ€å¼•å…¥<code>antd</code>ï¼Œéœ€è¦ä½¿ç”¨<code>babel-plugin-import</code>æ’ä»¶</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> babel-plugin-import -D
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  babel<span class="token operator">:</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token string">&quot;import&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‰éœ€å¼•å…¥'antd'</span>
        <span class="token punctuation">{</span>
          libraryName<span class="token operator">:</span> <span class="token string">&quot;antd&quot;</span><span class="token punctuation">,</span>
          libraryDirectory<span class="token operator">:</span> <span class="token string">&quot;es&quot;</span><span class="token punctuation">,</span>
          style<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// è®¾ç½®ä¸ºtrueå³æ˜¯lessï¼Œæˆ–è€…æŒ‡å®šä¸º'css'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨less"><a href="#ä½¿ç”¨less" class="header-anchor">#</a> ä½¿ç”¨<code>less</code></h3> <div class="language-shell extra-class"><pre class="language-shell"><code>// ä½¿ç”¨<span class="token variable"><span class="token variable">`</span>craco<span class="token variable">`</span></span>
<span class="token function">npm</span> <span class="token function">install</span> craco-less -D
æˆ–
// ä½¿ç”¨<span class="token variable"><span class="token variable">`</span>react-app-rewired<span class="token variable">`</span></span>å’Œ<span class="token variable"><span class="token variable">`</span>customize-cra<span class="token variable">`</span></span>
<span class="token function">npm</span> <span class="token function">install</span> <span class="token function">less</span> less-loader -D
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä»¥`craco-less`ä¸ºä¾‹</span>
<span class="token keyword">const</span> CracoLessPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'craco-less'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      plugin<span class="token operator">:</span> CracoLessPlugin<span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        lessLoaderOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// åœ¨å…¨å±€lessæ–‡ä»¶ä¸­æ³¨å…¥æ ·å¼å˜é‡æ–‡ä»¶</span>
          prependData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            @import &quot;~@/style/variables.less&quot;;
            @import &quot;~@/style/mixins.less&quot;;
          </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          lessOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            javascriptEnabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// è¦†ç›–`antd`ä¸­ä¸»é¢˜çš„`less`æ ·å¼å˜é‡ï¼Œå¦‚ä¸ä½¿ç”¨è¯¥æ–¹å¼è€Œæ˜¯é‡‡ç”¨å®˜æ–¹è¯´çš„å¼•å…¥è‡ªå®šä¹‰çš„`less` å˜é‡æ–‡ä»¶è¦†ç›–ä¸»é¢˜é»˜è®¤å˜é‡çš„æ–¹å¼å°±è¦æŠŠ`antd`çš„`less`æ ·å¼æ–‡ä»¶å…¨å±€å¼•å…¥ï¼Œæ­¤æ—¶ä¸Šé¢çš„`babel-plugin-import`æŒ‰éœ€å¼•å…¥å¯¹`antd`çš„æ ·å¼æ–‡ä»¶æ¥è¯´å°±ä¸ç”Ÿæ•ˆäº†</span>
            modifyVars<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token string">'@primary-color'</span><span class="token operator">:</span> <span class="token string">'#1DA57A'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ‰©å±•-css-module-ä»¥æ”¯æŒlessæ¨¡å—åŒ–-xxx-module-less"><a href="#æ‰©å±•-css-module-ä»¥æ”¯æŒlessæ¨¡å—åŒ–-xxx-module-less" class="header-anchor">#</a> æ‰©å±• CSS Module ä»¥æ”¯æŒlessæ¨¡å—åŒ–ï¼ˆ<code>xxx.module.less</code>ï¼‰</h3> <p>CRAåˆ›å»ºçš„reactå·¥ç¨‹ä¸­å¸¸è§„æ ·å¼æ–‡ä»¶å†…å®¹æ‰“åŒ…åéƒ½æ˜¯å…¨å±€ä½œç”¨åŸŸçš„ï¼Œä¸åŒè§†å›¾çš„æ ·å¼å¯èƒ½ç…§æˆäº’ç›¸å½±å“è€Œå‡ºç°æ··ä¹±ï¼Œè€Œ CSS Module çš„ç›®çš„å°±æ˜¯è§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜(å¦ä¸€ç§æ–¹æ¡ˆå°±æ˜¯åƒVueä¸­scopedé‚£æ ·ç»™cssæ·»åŠ hash)ï¼Œé¿å…æ ·å¼å…¨å±€æ±¡æŸ“ï¼Œ<code>css</code>å’Œ<code>sass/scss</code>çš„æ¨¡å—åŒ–CRAé»˜è®¤æ˜¯é…ç½®å¥½çš„ï¼Œè€Œå¯¹äº<code>less</code>æ¨¡å—åŒ–å°±éœ€è¦æˆ‘ä»¬è‡ªå·±è¿›è¡Œæ‰©å±•é…ç½®äº†(åœ¨æ­¤ä¹‹å‰éœ€è¦æ·»åŠ <code>less</code>æ”¯æŒ)ã€‚</p> <p>è¿™é‡Œæˆ‘ä»¬ä»ç„¶ä»¥<code>craco</code>ä¸ºä¾‹è¿›è¡ŒCRAç›¸å…³<code>webpack</code>æ‰©å±•é…ç½®ï¼Œå…·ä½“åœ¨<code>craco.config.js</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®é¡¹å†…å®¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  webpack<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">configure</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">webpackConfig</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      webpackConfig<span class="token punctuation">.</span>module<span class="token punctuation">.</span>rules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.module\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'style-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              modules<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
            <span class="token comment">// è‹¥æœ‰å…¨å±€ less æ³¨å…¥æ–‡ä»¶åˆ™å¯å¢åŠ è¯¥é€‰é¡¹</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              prependData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                @import &quot;~@/style/variables.less&quot;;
                @import &quot;~@/style/mixins.less&quot;;
              </span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> webpackConfig<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¿™é‡Œæ˜¯åœ¨ä¸Šé¢â€œä½¿ç”¨lessâ€ä¸­æåˆ°çš„ less æ”¯æŒé…ç½®</span>
    <span class="token punctuation">{</span>
      plugin<span class="token operator">:</span> CracoLessPlugin<span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¢åŠ è¯¥é…ç½®é¡¹</span>
        <span class="token function-variable function">modifyLessRule</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">rule</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// è¿™é‡Œæ’é™¤äº†module.lessï¼Œè‹¥lessä¸­è®¾ç½®äº†å…¨å±€æ³¨å…¥æ–‡ä»¶ï¼Œmodule.lessæ–‡ä»¶ä¸­è¦ä½¿ç”¨è¿™äº›æ³¨å…¥æ–‡ä»¶åˆ™å°±éœ€è¦åœ¨å…¶æ–‡ä»¶ä¸­æ‰‹åŠ¨å¯¼å…¥æˆ–è€…åœ¨ä¸Šé¢çš„module.lessçš„less-loaderä¸­æ·»åŠ ç›¸åŒæ³¨å…¥é…ç½®</span>
          rule<span class="token punctuation">.</span>exclude <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.module\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> rule<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="é‡‡ç”¨-css-scoped-æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜-xxx-scoped-less-scss-css"><a href="#é‡‡ç”¨-css-scoped-æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜-xxx-scoped-less-scss-css" class="header-anchor">#</a> é‡‡ç”¨ CSS Scoped æ–¹æ¡ˆè§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜ï¼ˆ<code>xxx.scoped.less/scss/css</code>ï¼‰</h3> <p>å‰é¢æåˆ°å¯ä½¿ç”¨ CSS Module æ¥è§£å†³æ ·å¼ä½œç”¨åŸŸé—®é¢˜ï¼Œè¿™é‡Œé‡‡ç”¨å¦ä¸€ç§æ–¹å¼æ¥è§£å†³ï¼Œå³åƒVueä¸­scopedé‚£æ ·ç»™cssæ·»åŠ hashï¼Œä»¥æ­¤é¿å…æ ·å¼å…¨å±€æ±¡æŸ“ã€‚</p> <p>è¿™é‡Œæˆ‘ä»¬ä»ç„¶ä»¥<code>craco</code>ä¸ºä¾‹è¿›è¡ŒCRAç›¸å…³<code>webpack</code>æ‰©å±•é…ç½®ï¼Œå…·ä½“åœ¨<code>craco.config.js</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®é¡¹å†…å®¹ï¼ˆå¯ç»“åˆä¸Šé¢Moduleæ–¹æ¡ˆé…ç½®åŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§æ–¹æ¡ˆï¼Œå®é™…ä¸‹é¢çš„é…ç½®åŸºæœ¬åŒ…å«äº†moduleæ–¹æ¡ˆï¼Œåªéœ€è¦åœ¨rules.pushä¸­åŠ å…¥ä¸€æ¡ä¸Šé¢çš„å†…å®¹å³å¯ï¼‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// éœ€è¦å…ˆnpmå®‰è£…`craco-plugin-scoped-css`æ¨¡å—</span>
<span class="token keyword">const</span> CracoScopedCssPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'craco-plugin-scoped-css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ ¹æ®åŸrulesé…ç½®ä¸­çš„sass/csså¤„ç†è§„æ•´æ’å…¥`scoped-css-loader`ä»¥ç”Ÿæˆä¸€æ¡æ–°çš„rule</span>
<span class="token keyword">function</span> <span class="token function">insertScopedCssLoader</span><span class="token punctuation">(</span><span class="token parameter">test<span class="token punctuation">,</span> targetRule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> rules <span class="token operator">=</span> targetRule<span class="token punctuation">.</span>use<span class="token punctuation">;</span>
  <span class="token keyword">let</span> newRule <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> cssLoaderIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rules<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> rule <span class="token operator">=</span> rules<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rule<span class="token punctuation">.</span>loader <span class="token operator">&amp;&amp;</span> rule<span class="token punctuation">.</span>loader<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'css-loader'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cssLoaderIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cssLoaderIndex <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> scopedCssRule <span class="token operator">=</span> <span class="token punctuation">{</span> loader<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'scoped-css-loader'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> newUse <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>rules<span class="token punctuation">]</span><span class="token punctuation">;</span>
    newUse<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>cssLoaderIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> scopedCssRule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    newRule <span class="token operator">=</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> use<span class="token operator">:</span> newUse <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// console.log('newRule:', newRule);</span>
  <span class="token keyword">return</span> newRule<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä¿®æ”¹åŸrulesé…ç½®ä¸­çš„sass/csså¤„ç†è§„åˆ™ï¼Œå¹¶æ’å…¥ä¸€æ¡æ–°çš„scoped rule</span>
<span class="token keyword">function</span> <span class="token function">addScopedCssLoader</span> <span class="token punctuation">(</span><span class="token parameter">oneOfRule<span class="token punctuation">,</span> ext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> fileMath <span class="token operator">=</span> <span class="token punctuation">{</span>
    css<span class="token operator">:</span> <span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(module|scoped)\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      text<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scoped\.css$</span><span class="token regex-delimiter">/</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    scss<span class="token operator">:</span> <span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(module|scoped)\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      text<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scoped\.scss$</span><span class="token regex-delimiter">/</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> cssIndex<span class="token punctuation">;</span>
  <span class="token keyword">const</span> cssRule <span class="token operator">=</span> oneOfRule<span class="token punctuation">.</span>oneOf<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> f <span class="token operator">=</span> rule<span class="token punctuation">.</span>test <span class="token operator">&amp;&amp;</span>
              rule<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">$</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
              rule<span class="token punctuation">.</span>test<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'.module'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cssIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cssRule<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cssRule<span class="token punctuation">.</span>exclude <span class="token operator">=</span> fileMath<span class="token punctuation">[</span>ext<span class="token punctuation">]</span><span class="token punctuation">.</span>exclude<span class="token punctuation">;</span>
    <span class="token keyword">const</span> newRule <span class="token operator">=</span>  <span class="token function">insertScopedCssLoader</span><span class="token punctuation">(</span>fileMath<span class="token punctuation">[</span>ext<span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span> cssRule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// console.log('newRule:', newRule);</span>
    <span class="token comment">// if (newRule) webpackConfig.module.rules.push(newRule);</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newRule<span class="token punctuation">)</span> oneOfRule<span class="token punctuation">.</span>oneOf<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>cssIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> newRule<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  webpack<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">configure</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">webpackConfig</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> oneOfRule <span class="token operator">=</span> webpackConfig<span class="token punctuation">.</span>module<span class="token punctuation">.</span>rules<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">rule</span> <span class="token operator">=&gt;</span> rule<span class="token punctuation">.</span>oneOf<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">addScopedCssLoader</span><span class="token punctuation">(</span>oneOfRule<span class="token punctuation">,</span> <span class="token string">'css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">addScopedCssLoader</span><span class="token punctuation">(</span>oneOfRule<span class="token punctuation">,</span> <span class="token string">'scss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      webpackConfig<span class="token punctuation">.</span>module<span class="token punctuation">.</span>rules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// è¿™é‡Œ push å¯ä»¥å¢åŠ ä¸Šé¢ module çš„å†…å®¹å³å¯åŒæ—¶ä½¿ç”¨module</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scoped\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>  <span class="token comment">// è¿™é‡Œæ˜¯é’ˆå¯¹lessæ–‡ä»¶ï¼Œå¯èƒ½å¯¹scssæ–‡ä»¶ä¹Ÿéœ€è¦å•ç‹¬é…ç½®ï¼ˆéœ€æµ‹è¯•ï¼‰</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'style-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token operator">!</span>isProduction<span class="token punctuation">,</span>
              importLoaders<span class="token operator">:</span> <span class="token number">2</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// You have to put it after `css-loader` and before any `pre-precessing loader`</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'scoped-css-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
            <span class="token comment">// è‹¥æœ‰å…¨å±€`less`æ³¨å…¥æ–‡ä»¶åˆ™å¯å¢åŠ è¯¥é€‰é¡¹ï¼ŒscssåŒç†ï¼Œå¯åœ¨insertScopedCssLoaderå‡½æ•°ä¸­æ”¹é€ rulesæœ€åä¸€ä¸ªloaderçš„é…ç½®é¡¹</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              sourceMap<span class="token operator">:</span> <span class="token operator">!</span>isProduction<span class="token punctuation">,</span>
              prependData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                @import &quot;~@/style/variables.less&quot;;
                @import &quot;~@/style/mixins.less&quot;;
              </span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> webpackConfig<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  babel<span class="token operator">:</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&quot;react-scoped-css&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scoped\.(sa|sc|c|le)ss$</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¿™é‡Œæ˜¯åœ¨ä¸Šé¢â€œä½¿ç”¨lessâ€ä¸­æåˆ°çš„ less æ”¯æŒé…ç½®</span>
    <span class="token punctuation">{</span>
      plugin<span class="token operator">:</span> CracoLessPlugin<span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¢åŠ è¯¥é…ç½®é¡¹</span>
        <span class="token function-variable function">modifyLessRule</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">rule</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// è¿™é‡Œæ’é™¤äº†moduleå’Œscoped(å› è¿™ä¸¤ç§æˆ‘ä»¬è¿›è¡Œäº†å•ç‹¬é…ç½®)ï¼Œåˆ™å‰é¢è®¾ç½®çš„æ³¨å…¥æ–‡ä»¶åœ¨è¿™ä¸ªä¸¤ç±»ä¸­å°†ä¸ç”Ÿæ•ˆï¼Œéœ€è¦åœ¨å•ç‹¬çš„moduleå’Œscopedç±»lessæ–‡ä»¶loaderå¤„ç†ä¸­é…ç½®æ³¨å…¥æˆ–æ‰‹åŠ¨å¼•å…¥</span>
          rule<span class="token punctuation">.</span>exclude <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(module|scoped)\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> rule<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      plugin<span class="token operator">:</span> CracoScopedCssPlugin
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è°ƒæ•´autoprefixeræ·»åŠ csså‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´"><a href="#è°ƒæ•´autoprefixeræ·»åŠ csså‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´" class="header-anchor">#</a> è°ƒæ•´<code>autoprefixer</code>æ·»åŠ CSSå‰ç¼€å…¼å®¹æµè§ˆå™¨èŒƒå›´</h3> <p>ä¿®æ”¹package.jsonæ–‡ä»¶ä¸­â€œbrowserslistâ€é€‰é¡¹ä¸­å¯¹åº”çš„å…¼å®¹ç­–ç•¥(æ ¹æ®éœ€è¦ä¿®æ”¹)</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&gt;0.2%&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 3 versions&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;not op_mini all&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;last 1 chrome version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 firefox version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 safari version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 ie version&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨webpackæ‰“åŒ…åˆ†æ"><a href="#ä½¿ç”¨webpackæ‰“åŒ…åˆ†æ" class="header-anchor">#</a> ä½¿ç”¨<code>webpack</code>æ‰“åŒ…åˆ†æ</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> webpack-bundle-analyzer -D
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> BundleAnalyzerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-bundle-analyzer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>BundleAnalyzerPlugin<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  webpack<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®è·¯å¾„åˆ«å</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// å¯æ ¹æ®ç¯å¢ƒè®¾ç½®ï¼Œå¦åˆ™æ‰€æœ‰éƒ½ä¼šè¿è¡Œåˆ†æ</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="header-anchor">#</a> å…¶ä»–</h2> <h3 id="è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡" class="header-anchor">#</a> è·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡</h3> <ul><li><p><code>create-react-app</code>å†…ç½®äº†ä¸‰ç§ç¯å¢ƒï¼Œåˆ†åˆ«æ˜¯<code>production</code>ã€<code>development</code>ã€<code>test</code>ï¼Œå¯é€šè¿‡<code>process.env.NODE_ENV</code>è·å–ï¼Œé¡»æ³¨æ„<code>NODE_ENV</code>æ— æ³•è¢«è¦†ç›–ã€‚</p></li> <li><p>å¤§å¤šæƒ…å†µä¸‹ï¼Œå†…ç½®çš„ä¸‰ä¸ªç¯å¢ƒå˜é‡å·²è¶³å¤Ÿä½¿ç”¨ï¼Œè™½ç„¶<code>NODE_ENV</code>æ— æ³•è¦†ç›–ï¼Œä½†<code>CRA</code>ä¹Ÿæä¾›äº†è‡ªå®šä¹‰é¢å¤–ç¯å¢ƒå˜é‡çš„æ–¹æ³•ï¼šå¯ä»¥è‡ªè¡Œè®¾ç½®ä»¥<code>REACT_APP_</code>å¼€å¤´çš„é¢å¤–ç¯å¢ƒå˜é‡åï¼ˆä¸Vueä¸­ç±»ä¼¼ï¼Œå¯ä»¥åœ¨<code>.env</code>æ–‡ä»¶ä¸­è®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨<code>package.json</code>æ–‡ä»¶<code>scripts</code>ä¸‹çš„<code>shell</code>å‘½ä»¤è¡Œä¸­è®¾ç½®ï¼‰ï¼Œéè¯¥å­—ç¬¦ä¸²å¼€å¤´çš„å˜é‡å<code>CRA</code>æ˜¯æ— æ³•è¯†åˆ«çš„ã€‚è‹¥è¦è‡ªå®šä¹‰ä»»æ„ç¯å¢ƒå˜é‡ï¼Œåˆ™å¯ä»¥é€‰æ‹©å®‰è£…ç¬¬ä¸‰æ–¹åŒ…å»è®¾ç½®ã€‚å¦é¡»æ³¨æ„ï¼š<code>shell</code>å‘½ä»¤è¡Œæ–¹å¼è®¾ç½®çš„<code>REACT_APP_XXX</code>å˜é‡åªèƒ½åœ¨æ‰§è¡Œ<code>shell</code>æ—¶è¢«è¯»å–åˆ°ï¼Œå¹³æ—¶åœ¨<code>js</code>ä¸­æ˜¯ä¸èƒ½è¯»å–åˆ°çš„ï¼Œä¸”å˜é‡è®¾ç½®è¦æ”¾åœ¨<code>shell</code>æŒ‡ä»¤ä¹‹å‰ã€‚</p></li> <li><p>å¯¹æœ¬äººè€Œè¨€ï¼Œ<code>CRA</code>å†…ç½®çš„ä¸‰ç§<code>NODE_ENV</code>å·²è¶³å¤Ÿä½¿ç”¨ï¼Œä¹Ÿæ— è‡ªå®šä¹‰ä»»æ„ç¯å¢ƒå˜é‡çš„éœ€æ±‚ï¼Œåªæ˜¯åœ¨è¿›è¡Œæµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…æ—¶å¯èƒ½è¦åŒºåˆ†æŸäº›å†…å®¹ï¼Œä¸”è¿™äº›åŒºåˆ†ä¹Ÿåªéœ€è¦åœ¨è¿è¡Œ<code>shell</code>æ‰“åŒ…æ—¶ä¸´æ—¶ç”¨åˆ°ï¼Œæ‰€ä»¥ä½¿ç”¨ä»¥<code>REACT_APP_</code>å¼€å¤´çš„é¢å¤–ç¯å¢ƒå˜é‡åœ¨<code>shell</code>ä¸Šè¿›è¡Œæ‰©å±•è®¾ç½®å³å¯ã€‚</p></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build:test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;REACT_APP_ENV=test_build react-scripts build&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å˜é‡è®¾ç½®è¦æ”¾åœ¨`shell`æŒ‡ä»¤ä¹‹å‰</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ENERATE_SOURCEMAP=false react-scripts build&quot;</span> <span class="token comment">// `ENERATE_SOURCEMAP=false`è¦†ç›–CRAå†…éƒ¨è®¾ç½®æ‰“åŒ…ä¸ç”ŸæˆsourceMapæ–‡ä»¶</span>
  <span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/docs/vue/vueåŸºç¡€è¯­æ³•.html" class="prev">
        VueåŸºç¡€è¯­æ³•
      </a></span> <span class="next"><a href="/docs/react/reactåŸºç¡€è¯­æ³•.html">
        ReactåŸºç¡€è¯­æ³•
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.08fe61ab.js" defer></script><script src="/docs/assets/js/2.7cd822c1.js" defer></script><script src="/docs/assets/js/54.7ef7e175.js" defer></script>
  </body>
</html>
