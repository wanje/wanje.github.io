<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS选择器世界 | Notebook</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/docs/favicon.ico">
    <meta name="description" content="个人学习记录，资料收集备忘">
    
    <link rel="preload" href="/docs/assets/css/0.styles.55326b6c.css" as="style"><link rel="preload" href="/docs/assets/js/app.08fe61ab.js" as="script"><link rel="preload" href="/docs/assets/js/2.7cd822c1.js" as="script"><link rel="preload" href="/docs/assets/js/9.d47db3aa.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.72a9314c.js"><link rel="prefetch" href="/docs/assets/js/11.b2108865.js"><link rel="prefetch" href="/docs/assets/js/12.2c1b2ec9.js"><link rel="prefetch" href="/docs/assets/js/13.c33a225a.js"><link rel="prefetch" href="/docs/assets/js/14.2e22b71a.js"><link rel="prefetch" href="/docs/assets/js/15.dbc68ef0.js"><link rel="prefetch" href="/docs/assets/js/16.84457c51.js"><link rel="prefetch" href="/docs/assets/js/17.52e5273d.js"><link rel="prefetch" href="/docs/assets/js/18.67d4515e.js"><link rel="prefetch" href="/docs/assets/js/19.940b4d57.js"><link rel="prefetch" href="/docs/assets/js/20.e377c5fb.js"><link rel="prefetch" href="/docs/assets/js/21.0c2fa396.js"><link rel="prefetch" href="/docs/assets/js/22.e1c082b5.js"><link rel="prefetch" href="/docs/assets/js/23.4ed3dada.js"><link rel="prefetch" href="/docs/assets/js/24.bd188c1f.js"><link rel="prefetch" href="/docs/assets/js/25.3ad8c116.js"><link rel="prefetch" href="/docs/assets/js/26.33ee5580.js"><link rel="prefetch" href="/docs/assets/js/27.e7cc24c9.js"><link rel="prefetch" href="/docs/assets/js/28.837948e7.js"><link rel="prefetch" href="/docs/assets/js/29.410abe44.js"><link rel="prefetch" href="/docs/assets/js/3.7564b2ae.js"><link rel="prefetch" href="/docs/assets/js/30.cc8eb36b.js"><link rel="prefetch" href="/docs/assets/js/31.7c16d041.js"><link rel="prefetch" href="/docs/assets/js/32.817dddd2.js"><link rel="prefetch" href="/docs/assets/js/33.0386436d.js"><link rel="prefetch" href="/docs/assets/js/34.d0315127.js"><link rel="prefetch" href="/docs/assets/js/35.302cd8ff.js"><link rel="prefetch" href="/docs/assets/js/36.105713b6.js"><link rel="prefetch" href="/docs/assets/js/37.65981373.js"><link rel="prefetch" href="/docs/assets/js/38.f91f63d4.js"><link rel="prefetch" href="/docs/assets/js/39.94ac212c.js"><link rel="prefetch" href="/docs/assets/js/4.f9012dd0.js"><link rel="prefetch" href="/docs/assets/js/40.c15edce9.js"><link rel="prefetch" href="/docs/assets/js/41.2d96d1ec.js"><link rel="prefetch" href="/docs/assets/js/42.70498ef4.js"><link rel="prefetch" href="/docs/assets/js/43.d3df4473.js"><link rel="prefetch" href="/docs/assets/js/44.76241211.js"><link rel="prefetch" href="/docs/assets/js/45.0b20b42d.js"><link rel="prefetch" href="/docs/assets/js/46.e23cf554.js"><link rel="prefetch" href="/docs/assets/js/47.92531c48.js"><link rel="prefetch" href="/docs/assets/js/48.f6a9e1fe.js"><link rel="prefetch" href="/docs/assets/js/49.85b5c3fc.js"><link rel="prefetch" href="/docs/assets/js/5.7340601b.js"><link rel="prefetch" href="/docs/assets/js/50.3bd81e89.js"><link rel="prefetch" href="/docs/assets/js/51.965ef0ca.js"><link rel="prefetch" href="/docs/assets/js/52.9cf46b5a.js"><link rel="prefetch" href="/docs/assets/js/53.ca6c3d21.js"><link rel="prefetch" href="/docs/assets/js/54.7ef7e175.js"><link rel="prefetch" href="/docs/assets/js/55.41c8c4ed.js"><link rel="prefetch" href="/docs/assets/js/56.4dbd7929.js"><link rel="prefetch" href="/docs/assets/js/57.5436677e.js"><link rel="prefetch" href="/docs/assets/js/58.f1bcf78a.js"><link rel="prefetch" href="/docs/assets/js/59.5387950c.js"><link rel="prefetch" href="/docs/assets/js/6.d4f121f4.js"><link rel="prefetch" href="/docs/assets/js/60.403907d4.js"><link rel="prefetch" href="/docs/assets/js/61.c6417a83.js"><link rel="prefetch" href="/docs/assets/js/62.74a3e44c.js"><link rel="prefetch" href="/docs/assets/js/63.b94e6886.js"><link rel="prefetch" href="/docs/assets/js/64.1f4516ae.js"><link rel="prefetch" href="/docs/assets/js/65.113e7bc2.js"><link rel="prefetch" href="/docs/assets/js/66.5d250d0c.js"><link rel="prefetch" href="/docs/assets/js/67.8f0f3cb7.js"><link rel="prefetch" href="/docs/assets/js/68.9f25558d.js"><link rel="prefetch" href="/docs/assets/js/69.8f2327aa.js"><link rel="prefetch" href="/docs/assets/js/7.198cac72.js"><link rel="prefetch" href="/docs/assets/js/70.c1e17b8c.js"><link rel="prefetch" href="/docs/assets/js/71.ae9a423c.js"><link rel="prefetch" href="/docs/assets/js/72.f10ab930.js"><link rel="prefetch" href="/docs/assets/js/73.96be54ce.js"><link rel="prefetch" href="/docs/assets/js/74.b32342f8.js"><link rel="prefetch" href="/docs/assets/js/75.bdf322be.js"><link rel="prefetch" href="/docs/assets/js/76.cc59617c.js"><link rel="prefetch" href="/docs/assets/js/77.887d7f63.js"><link rel="prefetch" href="/docs/assets/js/78.25d8ca21.js"><link rel="prefetch" href="/docs/assets/js/79.e600fecb.js"><link rel="prefetch" href="/docs/assets/js/8.70a01d30.js"><link rel="prefetch" href="/docs/assets/js/80.039e7dbf.js"><link rel="prefetch" href="/docs/assets/js/81.cb600c59.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.55326b6c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/logo.png" alt="Notebook" class="logo"> <span class="site-name can-hide">Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记分类" class="dropdown-title"><span class="title">笔记分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记分类" class="mobile-dropdown-title"><span class="title">笔记分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link router-link-active">
  CSS
</a></li></ul></div></div><div class="nav-item"><a href="https://wanje.github.io/demo_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更多
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记分类" class="dropdown-title"><span class="title">笔记分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记分类" class="mobile-dropdown-title"><span class="title">笔记分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/css/" class="nav-link router-link-active">
  CSS
</a></li></ul></div></div><div class="nav-item"><a href="https://wanje.github.io/demo_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更多
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/html/HTML零散集.html" class="sidebar-link">HTML零散集</a></li><li><a href="/docs/html/a标签的各种用途.html" class="sidebar-link">a标签的各种用途</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/js/JS错题本.html" class="sidebar-link">JS错题本</a></li><li><a href="/docs/js/JS零散集.html" class="sidebar-link">JS零散集</a></li><li><a href="/docs/js/数组Array.html" class="sidebar-link">数组Array</a></li><li><a href="/docs/js/字符串String.html" class="sidebar-link">字符串String</a></li><li><a href="/docs/js/计算Math.html" class="sidebar-link">计算Math</a></li><li><a href="/docs/js/事件Event.html" class="sidebar-link">事件Event</a></li><li><a href="/docs/js/WebComponents.html" class="sidebar-link">Web Components</a></li><li><a href="/docs/js/Lit创建WebComponents.html" class="sidebar-link">Lit 框架创建 Web Components</a></li><li><a href="/docs/js/File文件API.html" class="sidebar-link">File文件API</a></li><li><a href="/docs/js/鼠标拖放与拖拽dnd.html" class="sidebar-link">鼠标拖拽与拖放</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ES6+</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/js/es6+/Class.html" class="sidebar-link">Class</a></li><li><a href="/docs/js/es6+/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/docs/js/es6+/async-await.html" class="sidebar-link">async/await</a></li><li><a href="/docs/js/es6+/Proxy.html" class="sidebar-link">Proxy</a></li><li><a href="/docs/js/es6+/Reflect.html" class="sidebar-link">Reflect</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/CSS零散集.html" class="sidebar-link">CSS零散集</a></li><li><a href="/docs/css/scss语法.html" class="sidebar-link">SCSS基础语法</a></li><li><a href="/docs/css/CSS选择器世界.html" class="active sidebar-link">CSS选择器世界</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#css声明的优先级" class="sidebar-link">CSS声明的优先级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#样式分层优先级" class="sidebar-link">样式分层优先级</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#选择器优先级规则" class="sidebar-link">选择器优先级规则</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#选择器的命名" class="sidebar-link">选择器的命名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#选择器是否区分大小写" class="sidebar-link">选择器是否区分大小写</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#命名合法性" class="sidebar-link">命名合法性</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#选择器设计最佳实践" class="sidebar-link">选择器设计最佳实践</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#精通css选择符" class="sidebar-link">精通CSS选择符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#后代选择符空格" class="sidebar-link">后代选择符空格</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#子选择符箭头" class="sidebar-link">子选择符箭头（&gt;）</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#相邻兄弟选择符加号" class="sidebar-link">相邻兄弟选择符加号（+）</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#随后兄弟选择符" class="sidebar-link">随后兄弟选择符（~）</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#如何实现前面兄弟选择符的效果" class="sidebar-link">如何实现前面兄弟选择符的效果</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#列选择符" class="sidebar-link">列选择符（||）</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#元素选择器" class="sidebar-link">元素选择器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#元素选择器的级联语法" class="sidebar-link">元素选择器的级联语法</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#通配符选择器" class="sidebar-link">通配符选择器*</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#属性选择器" class="sidebar-link">属性选择器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#id选择器实际可重复" class="sidebar-link">ID选择器实际可重复</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#属性-值-匹配" class="sidebar-link">属性(值)匹配</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#用户行为伪类" class="sidebar-link">用户行为伪类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#鼠标经过伪类-hover" class="sidebar-link">鼠标经过伪类 :hover</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#激活状态伪类-active" class="sidebar-link">激活状态伪类 :active</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#焦点伪类-focus" class="sidebar-link">焦点伪类 :focus</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#focus-伪类与键盘无障碍访问" class="sidebar-link">:focus 伪类与键盘无障碍访问</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#内含焦点伪类-focus-within" class="sidebar-link">内含焦点伪类 :focus-within</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#可见焦点伪类-focus-visible" class="sidebar-link">可见焦点伪类 :focus-visible</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#url链接-定位伪类" class="sidebar-link">URL链接/定位伪类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#link-visited-hover-active" class="sidebar-link">:link/:visited/:hover/:active</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#any-link-超链接伪类" class="sidebar-link">:any-link 超链接伪类</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#目标伪类-target" class="sidebar-link">目标伪类 :target</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#目标容器伪类-target-within" class="sidebar-link">目标容器伪类 :target-within</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#输入伪类" class="sidebar-link">输入伪类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#可用与禁用状态伪类-enabled-disabled" class="sidebar-link">可用与禁用状态伪类 :enabled/:disabled</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#读写伪类-read-only-read-write" class="sidebar-link">读写伪类 :read-only/:read-write</a></li><li class="sidebar-sub-header"><a href="/docs/css/CSS选择器世界.html#占位符显示伪类-placeholder-shown" class="sidebar-link">占位符显示伪类 :placeholder-shown</a></li></ul></li></ul></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>CSS世界</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/CSS世界/层叠规则.html" class="sidebar-link">层叠规则</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>CSS新世界</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/css/CSS新世界/第6章.html" class="sidebar-link">第 6 章 全新的布局方式</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>绘图&amp;动画</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/draw-animation/D3js.html" class="sidebar-link">D3.js</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Threejs开发指南</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/vue/vue工程配置.html" class="sidebar-link">Vue工程创建及配置</a></li><li><a href="/docs/vue/vue基础语法.html" class="sidebar-link">Vue基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/react/react工程配置.html" class="sidebar-link">React工程创建及配置</a></li><li><a href="/docs/react/react基础语法.html" class="sidebar-link">React基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/typescript/类型/为什么需要类型.html" class="sidebar-link">为什么需要类型</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>类型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>泛型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>类型转换</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/typescript/模块/CommonJS兼容模块.html" class="sidebar-link">CommonJS兼容模块</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>命名空间</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>理解声明</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/node/Node模块机制.html" class="sidebar-link">Node模块机制与NPM包</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/webpack/webpack4.x笔记.html" class="sidebar-link">webpack4.x笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/python/python基础语法.html" class="sidebar-link">Python基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/others/参考内容.html" class="sidebar-link">参考内容</a></li><li><a href="/docs/others/lint-format.html" class="sidebar-link">代码检查与格式化</a></li><li><a href="/docs/others/Markdown语法.html" class="sidebar-link">Markdown语法</a></li><li><a href="/docs/others/Git使用.html" class="sidebar-link">Git使用</a></li><li><a href="/docs/others/Gulp使用.html" class="sidebar-link">Gulp使用</a></li><li><a href="/docs/others/Rollup使用.html" class="sidebar-link">Rollup使用</a></li><li><a href="/docs/others/Nginx配置.html" class="sidebar-link">Nginx基础配置与操作</a></li><li><a href="/docs/others/环境&amp;软件安装.html" class="sidebar-link">环境&amp;软件安装</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="css选择器世界"><a href="#css选择器世界" class="header-anchor">#</a> CSS选择器世界</h1> <p></p><div class="table-of-contents"><ul><li><a href="#css声明的优先级">CSS声明的优先级</a><ul><li><a href="#样式分层优先级">样式分层优先级</a></li><li><a href="#选择器优先级规则">选择器优先级规则</a></li></ul></li><li><a href="#选择器的命名">选择器的命名</a><ul><li><a href="#选择器是否区分大小写">选择器是否区分大小写</a></li><li><a href="#命名合法性">命名合法性</a></li><li><a href="#选择器设计最佳实践">选择器设计最佳实践</a></li></ul></li><li><a href="#精通css选择符">精通CSS选择符</a><ul><li><a href="#后代选择符空格">后代选择符空格</a></li><li><a href="#子选择符箭头">子选择符箭头（&gt;）</a></li><li><a href="#相邻兄弟选择符加号">相邻兄弟选择符加号（+）</a></li><li><a href="#随后兄弟选择符">随后兄弟选择符（~）</a></li><li><a href="#如何实现前面兄弟选择符的效果">如何实现前面兄弟选择符的效果</a></li><li><a href="#列选择符">列选择符（||）</a></li></ul></li><li><a href="#元素选择器">元素选择器</a><ul><li><a href="#元素选择器的级联语法">元素选择器的级联语法</a></li><li><a href="#通配符选择器">通配符选择器*</a></li></ul></li><li><a href="#属性选择器">属性选择器</a><ul><li><a href="#id选择器实际可重复">ID选择器实际可重复</a></li><li><a href="#属性-值-匹配">属性(值)匹配</a></li></ul></li><li><a href="#用户行为伪类">用户行为伪类</a><ul><li><a href="#鼠标经过伪类-hover">鼠标经过伪类 :hover</a></li><li><a href="#激活状态伪类-active">激活状态伪类 :active</a></li><li><a href="#焦点伪类-focus">焦点伪类 :focus</a></li><li><a href="#focus-伪类与键盘无障碍访问">:focus 伪类与键盘无障碍访问</a></li><li><a href="#内含焦点伪类-focus-within">内含焦点伪类 :focus-within</a></li><li><a href="#可见焦点伪类-focus-visible">可见焦点伪类 :focus-visible</a></li></ul></li><li><a href="#url链接-定位伪类">URL链接/定位伪类</a><ul><li><a href="#link-visited-hover-active">:link/:visited/:hover/:active</a></li><li><a href="#any-link-超链接伪类">:any-link 超链接伪类</a></li><li><a href="#目标伪类-target">目标伪类 :target</a></li><li><a href="#目标容器伪类-target-within">目标容器伪类 :target-within</a></li></ul></li><li><a href="#输入伪类">输入伪类</a><ul><li><a href="#可用与禁用状态伪类-enabled-disabled">可用与禁用状态伪类 :enabled/:disabled</a></li><li><a href="#读写伪类-read-only-read-write">读写伪类 :read-only/:read-write</a></li><li><a href="#占位符显示伪类-placeholder-shown">占位符显示伪类 :placeholder-shown</a></li></ul></li></ul></div><p></p> <p>CSS选择器分为4类：选择器、选择符、伪类、伪元素。</p> <p>双管道符<code>||</code>表示列关系</p> <p>伪元素的特征是其后面有两个冒号<code>::</code>(旧版本只有一个<code>:</code>)，常见的有<code>::before</code>、<code>::after</code>、<code>::placeholder</code>、<code>::first-letter</code>、<code>::first-line</code>等。</p> <p>CSS选择器的命名空间(兼容性非常好但应用不多)：由<code>@namespace</code>关键字规则声明，使用 <code>spaceName|selector</code>形式应用，管道符<code>|</code>前为声明的空间名，后为选择器。</p> <p>当无效的CSS选择器(包括规范中有但对应浏览器不支持的情况)与浏览器支持的选择器写在一起时，会导致整个选择器无效（如使用逗号并列时，有一个无效则都无效）。</p> <p>CSS选择器是从右往左进行匹配渲染的，如<code>.box&gt;div</code>，是先匹配页面所有的<code>div</code>元素，再匹配<code>.box</code>类名元素。</p> <p><strong><code>:first-of-type</code>、<code>:last-of-type</code>、<code>:nth-of-type()</code>这种类型选择器只对标签选择符有效，对<code>class</code>无效，与<code>class</code>结合使用时其实际也是按照<code>class</code>对应的标签去匹配的</strong></p> <h2 id="css声明的优先级"><a href="#css声明的优先级" class="header-anchor">#</a> CSS声明的优先级</h2> <h3 id="样式分层优先级"><a href="#样式分层优先级" class="header-anchor">#</a> 样式分层优先级</h3> <p><code>开发者编写的样式</code> &gt; <code>@layer中的样式</code> &gt; <code>浏览器插件/扩展注入样式(injected stylesheet)</code> &gt; <code>浏览器内置样式(user agent stylesheet)</code> &gt; <code>继承样式</code></p> <p><strong>比较样式优先级，是先看分层优先级，然后再看同一分层下选择器优先级。</strong></p> <h3 id="选择器优先级规则"><a href="#选择器优先级规则" class="header-anchor">#</a> 选择器优先级规则</h3> <ul><li>0级：通配符选择器<code>*</code>、选择符、逻辑组合伪类；
<ul><li>选择符指<code>+</code>、<code>&gt;</code>、<code>~</code>、空格、<code>||</code>；</li> <li><strong>逻辑组合</strong>伪类有<code>:not()</code>、<code>:is()</code>、<code>:where</code>等，其并不影响CSS优先级，影响优先级的是括号里面的选择器；</li></ul></li> <li>1级：标签选择器，如：<code>div</code>、<code>p</code></li> <li>2级：类选择器、属性选择器、伪类，如：<code>.mgl-0</code>、<code>[attr]</code>、<code>:hover</code></li> <li>3级：ID选择器；</li> <li>4级：style属性内联，即行内样式；</li> <li>5级：<code>!important</code> <ul><li>不要认为使用了该关键字就始终可以覆盖默认样式，有些浏览器自带样式即使使用<code>!important</code>也无法覆盖，这在后面章节会介绍原因（因默认样式、注入样式、用户自定义样式等也存在优先级）</li></ul></li></ul> <p>当CSS选择器的优先级数值一样的时候，后渲染(或加载)的选择器的优先级更高，即同级的后面会覆盖前面。</p> <p>CSS选择器的优先级与DOM元素的层级位置没有任何关系。</p> <p>一个增加CSS选择器优先级的小技巧，那就是重复选择器自身，如<code>.foo.foo</code>，既提高了优先级，又不会增加耦合；如不喜欢该写法，也可以借助必然会存在的属性选择器，如：<code>.foo[class]</code>、<code>#foo[id]</code></p> <h2 id="选择器的命名"><a href="#选择器的命名" class="header-anchor">#</a> 选择器的命名</h2> <h3 id="选择器是否区分大小写"><a href="#选择器是否区分大小写" class="header-anchor">#</a> 选择器是否区分大小写</h3> <p>HTML中，<strong>标签和属性不区分大小写，但属性值要区分大小写</strong>，因此在CSS中：标签选择器不区分大小写、属性选择器中的属性也不区分大小写(但属性值要区分大小写)，而<strong>类选择器和ID选择器本质上是属性值</strong>，所以他们也是要区分大小写的。</p> <h3 id="命名合法性"><a href="#命名合法性" class="header-anchor">#</a> 命名合法性</h3> <p>不能以数字开头，实际并不是严格的不能以数字开头，而是不能直接写数字，需要将其转义一下。其他很多非规范字符只要对它们进行转义重新编码一下也能称为支持的字符类型，想了解可参看3.2章节。</p> <p>命名建议：</p> <ul><li>一般情况下不使用单命名，而是使用组合命名，单命名一般用于和其他选择器进行组合修饰和状态表示；</li> <li>不要使用拼音；</li> <li>从HTML标签中找灵感，因为标签本身就具有语义；</li> <li>从HTML特定属性值中找灵感，因为有些属性就代表了该元素的功能，如radio、checkbox、range等；</li> <li>从CSS伪类和HTML布尔属性中找灵感，如：
<ul><li>激活状态类名<code>.active</code>源自伪类<code>:active</code>；</li> <li>禁用状态类名<code>.disabled</code>源自伪类<code>:disabled</code>或HTML的<code>disabled</code>属性；</li> <li>列表选中状态类名<code>.selected</code>源自HTML的<code>selected</code>属性；</li> <li>选中状态类名<code>.checked</code>源自伪类<code>:checked</code>或HTML的<code>checked</code>属性；</li> <li>出错状态类名<code>.invalid</code>(一般用于表单)源自伪类<code>:invalid</code>；</li></ul></li></ul> <h3 id="选择器设计最佳实践"><a href="#选择器设计最佳实践" class="header-anchor">#</a> 选择器设计最佳实践</h3> <ul><li>不要使用ID选择器（id一般用于JS，应与CSS解耦）；</li> <li>不要嵌套选择器；</li></ul> <p>选择器的性能排序：<code>ID</code> &gt; <code>类</code> &gt; <code>标签</code> &gt; <code>通配符</code> &gt; <code>属性</code> &gt; <code>部分伪类</code>(如<code>:checked</code>)</p> <p>CSS选择器是从右往左进行匹配渲染的，如<code>.box&gt;div</code>，是先匹配页面所有的<code>div</code>元素，再匹配<code>.box</code>类名元素，若页面内容丰富，HTML结构较复杂，<code>div</code>元素多达上千个，同时这样低效的选择器又多，则会带来明显可感知的渲染性能问题。</p> <p>每加深一层嵌套，浏览器在进行选择器匹配的时候就会多计算一层，故也就更容易定义渲染性能产生不好的影响。</p> <p>在使用状态类名是，应遵循一个准则，即状态类型自身绝对不能有CSS样式，只是将其作为一个状态标识符，与其他选择器进行组合应用。</p> <h2 id="精通css选择符"><a href="#精通css选择符" class="header-anchor">#</a> 精通CSS选择符</h2> <h3 id="后代选择符空格"><a href="#后代选择符空格" class="header-anchor">#</a> 后代选择符空格</h3> <p>IE6+支持。</p> <p>CSS选择器是独立于整个页面的，也就是页面中满足匹配规则的都将被匹配。</p> <p><b class="color-warning">重点：</b></p> <p>像<code>querySelectorAll</code>方法(内部查找元素，不包括自身)中的选择器同样也是全局匹配的，什么意思呢看举例说明，例如：<code>document.querySelector('#myId').querySelectorAll('div div')</code>与<code>document.querySelectorAll('#myId div div')</code>是不一样的，前者表示查找<code>#myId</code>元素，再从其所有后代元素查找满足整个页面下<code>div div</code>匹配关系的元素，而后者则只是满足<code>#myId div div</code>关系的元素。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c-2-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#myId div div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 3</span>
</code></pre></div><p>要想<code>querySelectorAll</code>方法后面的选择器不是全局匹配的也是有办法的，可以使用<code>:scope</code>伪类，其作用就是让CSS选择器的作用域局限在某一范围内(调用者内)，例如上面的例子改成下面这样后：</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#myId'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">':scope div div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1，将作用域限制在了调用者#myId元素内</span>
</code></pre></div><p>在CSS中<code>:scope</code>伪类没啥用，因为如今的网页本来只有一个作用域，但在JS中意义就不一样，更能发挥它的作用，与上面<code>querySelectorAll</code>类似的API还有<code>querySelector()</code>、<code>matches()</code>、<code>Element.closest()</code>。</p> <h3 id="子选择符箭头"><a href="#子选择符箭头" class="header-anchor">#</a> 子选择符箭头（&gt;）</h3> <p>IE7+支持。</p> <p>使用子选择符的主要目的是避免冲突，除此之外尽量不要用，避免带来的高维护成本（因其与HTML的层级关系形成了强绑定，html稍微变一下层级就失效了）。</p> <p>适合使用子选择符的场景：</p> <ol><li>状态类名控制。例如使用<code>.active</code>类名进行状态切换，会遇到祖先和后代都存在<code>.active</code>切换的场景，此时子选择符是必须的，以免影响后代元素，如：<div class="language-css extra-class"><pre class="language-css"><code> <span class="token selector">.active &gt; e-module-x</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div></li> <li>标签受限。例如当<code>&lt;li&gt;</code>标签重复嵌套，同时我们无法修改标签名称或者设置类名的时候（如在使用第三方UI组件的时候），就需要使用子选择符进行精确控制。</li> <li>层级位置与动态判断。例如一个日期选择组件的弹出面板HTML通常会放在<code>&lt;body&gt;</code>元素下，作为<code>&lt;body&gt;</code>的子元素，再绝对定位位置，但有时候需要以静态布局嵌在页面内的某个位置，这时若我们不方便修改组件源码，则就可以借助子选择符快速打一个补丁：<div class="language-css extra-class"><pre class="language-css"><code> <span class="token selector">:not(body) &gt; e-date-panel</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">/* 表示非body下的日历面板就采用相对定位（只是举例） */</span>
</code></pre></div></li></ol> <h3 id="相邻兄弟选择符加号"><a href="#相邻兄弟选择符加号" class="header-anchor">#</a> 相邻兄弟选择符加号（+）</h3> <p>IE7+支持。</p> <p>用于选择<strong>紧邻</strong>的<strong>后面一个</strong>兄弟元素，其会忽略文本节点和注释节点，只认元素节点。</p> <h3 id="随后兄弟选择符"><a href="#随后兄弟选择符" class="header-anchor">#</a> 随后兄弟选择符（~）</h3> <p>IE7+支持。</p> <p>其与相邻兄弟选择符类似，只是其可以选择后面的所有兄弟元素，而非只是紧邻的那一个。</p> <h3 id="如何实现前面兄弟选择符的效果"><a href="#如何实现前面兄弟选择符的效果" class="header-anchor">#</a> 如何实现前面兄弟选择符的效果</h3> <p>并没有前面兄弟选择符，但若只是视觉上的前面，则同样可以使用兄弟选择符实现，因为兄弟选择符选择的后面兄弟是HTML结构上的，并非视觉上的，我们可以让后面的兄弟元素视觉上表现是在前面就行。</p> <p>DOM位置和视觉位置不一致的实现方法很多，常见的如<code>float</code>浮动、<code>position</code>定位、<code>margin</code>外边距偏移、<code>transform</code>变换、<code>direction</code>文档流方向、<code>writing-mode</code>书写模式、<code>flex</code>弹性布局等等。</p> <h3 id="列选择符"><a href="#列选择符" class="header-anchor">#</a> 列选择符（||）</h3> <p>至写该笔记时，目前还没有浏览器实现，想了解可看查阅书籍。</p> <h2 id="元素选择器"><a href="#元素选择器" class="header-anchor">#</a> 元素选择器</h2> <h3 id="元素选择器的级联语法"><a href="#元素选择器的级联语法" class="header-anchor">#</a> 元素选择器的级联语法</h3> <ul><li>元素选择器是唯一不能重复自身的选择器</li> <li>级联使用的时候元素选择器必须写在最前面</li> <li>元素选择器是不区分大小写的（但一般都用小写）</li></ul> <p>虽然元素选择器不能重复自身来在不耦合其他选择器的情况下提高自身的优先级，但是也还是有其他方法在最小耦合下提高同级别优先级：</p> <ul><li>因所有标准HTML页面都有<code>&lt;html&gt;</code>和<code>&lt;body&gt;</code>元素，因此可以借助这些标签提高优先级，而又不耦合其他内容，形成通用；</li> <li>借助<code>:not()</code>伪类，括号里面是任意其他不一样的标签名即可
<ul><li><code>a:not(b)</code></li></ul></li></ul> <p>推荐吧类选择器放在属性值匹配选择器的后面，因为CSS选择器解析是从右往左进行的，类名放在后面性能会更好(虽然现代浏览器来说这完全可以忽略)，类选择器甚至偶偶放在伪类后面(我们常放在伪类前面)。</p> <ul><li><code>[attr=&quot;value&quot;].aclass {}</code></li> <li><code>:hover.aclass {}</code></li></ul> <p>默认IE9+才支持自定义元素标签选择器，若要兼容IE8，则需要在<code>&lt;head&gt;</code>中创建类似如下的JS代码段：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// IE8下需要添加创建自定义标签的JS，后面声明的自定义标签选择器的样式才有效</span>
    document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'cus-tag'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">cus-tag</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="通配符选择器"><a href="#通配符选择器" class="header-anchor">#</a> 通配符选择器<code>*</code></h3> <p>通配符选择器<code>*</code>是一个特殊的标签选择器，它可以指代所有类型的标签元素，包括自定义元素，以及<code>&lt;script&gt;</code>、<code>&lt;style&gt;</code>、<code>&lt;title&gt;</code>等元素，但<strong>不包括伪元素</strong>。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 因通配符不包括伪元素，所以要将样式也应用到所有元素的伪元素就需要像下面的声明 */</span>
<span class="token selector">*,
*::before,
*::after</span> <span class="token punctuation">{</span>
  <span class="token property">box-size</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="属性选择器"><a href="#属性选择器" class="header-anchor">#</a> 属性选择器</h2> <h3 id="id选择器实际可重复"><a href="#id选择器实际可重复" class="header-anchor">#</a> ID选择器实际可重复</h3> <p>可能我们之前的印象中不管是JS的选择器API获取元素，还是CSS的ID选择器设置样式，对于 id 都认为是不能重复的，从语义上将的确如此，我们也推崇不要重复，但语言层面的实际结果来看，语义重复也是可以的，这并不影响功能(JS中不同API会有影响)。原则上我们应该保证ID唯一。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#btn</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">/* 可以同时设置下面的“按钮1”和“按钮2” */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 2</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// 1</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="属性-值-匹配"><a href="#属性-值-匹配" class="header-anchor">#</a> 属性(值)匹配</h3> <ul><li><code>[attr]</code>，属性匹配</li> <li><code>[attr=&quot;val&quot;]</code>，属性值完全匹配
<ul><li>属性值的引号可省略，如<code>[attr=val]</code>，但若val中有空格，则省略引号时需要对空格进行转义成<code>\0020</code>，如<code>[class=&quot;part1 part2&quot;]</code>=&gt;<code>[class=part1\0020part2]</code></li></ul></li> <li><code>[attr~=&quot;val&quot;]</code>，属性值<strong>独立词组</strong>匹配
<ul><li>即<code>val</code>是属性值中的一个独立词组(与其他部分隔开的独立字符串)，如<code>&lt;p attr=&quot;val part2 part3&quot;&gt;&lt;/p&gt;</code></li> <li>非常适合多种组合属性值的场景，如元素的定位控制可以单独对每个方向进行匹配：<code>&lt;p data-align=&quot;top center&quot;&gt;&lt;/p&gt;</code>=&gt;<code>[data-align~=&quot;top&quot;]</code>、<code>[data-align~=&quot;center&quot;]</code></li></ul></li> <li><code>[attr|=&quot;val&quot;]</code>，属性值开头片段匹配，指属性值要么就是<code>val</code>，要么以<code>val-</code>开头
<ul><li><code>&lt;p attr=&quot;val&quot;&gt;&lt;/p&gt;</code>，匹配</li> <li><code>&lt;p attr=&quot;val-ue&quot;&gt;&lt;/p&gt;</code>，匹配</li> <li><code>&lt;p attr=&quot;val-ue part2&quot;&gt;&lt;/p&gt;</code>，匹配</li> <li><code>&lt;p attr=&quot;value&quot;&gt;&lt;/p&gt;</code>，不匹配</li> <li><code>&lt;p attr=&quot;val part2&quot;&gt;&lt;/p&gt;</code>，不匹配</li> <li><code>&lt;p attr=&quot;part1 val-ue&quot;&gt;&lt;/p&gt;</code>，不匹配</li></ul></li> <li><code>[attr^=&quot;val&quot;]</code>，属性值开头匹配（正则模式），比如<code>a</code>标签链接地址的不同类型展示不同图标(<code>https:</code>、<code>ftp:</code>、<code>tel:</code>、<code>mmailto:</code>等等)</li> <li><code>[attr$=&quot;val&quot;]</code>，属性值结尾匹配（正则模式），比如<code>a</code>标签链接到文件资源时，可以通过匹配文件后缀来展示不同类型文件图标</li> <li><code>[attr*=&quot;val&quot;]</code>，属性值任意匹配（正则模式），该模式在结合JS交互的封装中匹配<code>style</code>属性非常有用(当然最好用<code>class</code>控制样式)
<ul><li>匹配<code>style</code>属性时需注意，JS设置的<code>style</code>中浏览器会自动在CSS的属性和属性值间添加空格隔开，但直接手写在元素上的<code>style</code>中CSS写的什么样就什么样，不会自动添加空格</li> <li>IE7虽然支持属性选择器，但不支持<code>style</code>属性的匹配，即<code>[style]</code>相关的在IE7下不支持</li> <li>IE8下对于可识别的行内样式，其会自动将CSS的属性名转换为大写，而行内CSS在<code>style</code>属性匹配中属于属性值，而属性值默认是严格区分大小写的，所以要进行区分，或者用后面提到的忽略大小写模式<div class="language-css extra-class"><pre class="language-css"><code>[style*=<span class="token string">&quot;display: none&quot;</span>]<span class="token punctuation">,</span> <span class="token comment">/* JS设置而浏览器自动美化的行内样式，或手写加了空格的情况 */</span>
[style*=<span class="token string">&quot;display:none&quot;</span>]<span class="token punctuation">,</span>  <span class="token comment">/* 手写在行内样式且未带空格的情况 */</span>
<span class="token selector">[style*=&quot;DISPLAY: none&quot;]</span> <span class="token punctuation">{</span>  <span class="token comment">/* IE8下浏览器自动将行内可识别的CSS属性值转为了大写的情况 */</span>
  <span class="token comment">/* css body */</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>基于该选择器的<strong>搜索过滤效果</strong>，可应用在通讯录、城市列表等搜索中，性能高，代码少，查看<a href="https://demo.cssworld.cn/selector/6/3-1.php" target="_blank" rel="noopener noreferrer">Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>schBox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>输入城市名称或拼音搜索<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>成都市 chengdu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成都市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>绵阳市 mianyang<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>绵阳市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>达州市 dazhou<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>达州市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>南充市 nanchong<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>南充市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-search</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>广安市 guangan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>广安市<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> styleEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>styleEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  schBox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> keyWord <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    styleEl<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> keyWord <span class="token operator">?</span> <span class="token string">'[data-search]:not([data-search*=&quot;'</span> <span class="token operator">+</span> keyWord <span class="token operator">+</span> <span class="token string">'&quot;]) { display: none; }'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul></li></ul> <p>以上<code>val</code>都不能为空字符串。</p> <p>前四个IE8+完美支持，IE7也支持，只是个别场景中有瑕疵，且IE7的属性要区分大小写。另须注意在IE低版本或兼容模式下不支持<code>input</code>新的<code>type</code>类型时，浏览器会自动将<code>type</code>属性改为<code>text</code>，此时像<code>[type=&quot;number&quot;]</code>之类的选择器就无法匹配。</p> <p>后三个<code>^</code>、<code>$</code>、<code>*</code>属于属性值正则匹配，IE7+就支持，且匹配<strong>字符片段</strong>就行，不要求是词组，还支持<strong>忽略大小写</strong>(目前移动端可放心使用)，直接在中括号内尾部添加字符<code>i</code>或<code>I</code>，一般都用小写<code>i</code>，如上面的搜索过滤忽略大小写<code>[data-search]:not([data-search*=&quot;keyWord&quot; i]</code>，该模式在搜索匹配用户昵称或账户名时非常有用(因这种场景下大小写混用很常见)。</p> <h2 id="用户行为伪类"><a href="#用户行为伪类" class="header-anchor">#</a> 用户行为伪类</h2> <h3 id="鼠标经过伪类-hover"><a href="#鼠标经过伪类-hover" class="header-anchor">#</a> 鼠标经过伪类 :hover</h3> <p><code>:hover</code>伪类可以用在所有HTML元素上，包括自定义元素。</p> <p><code>:hover</code>触发是即时的，在做浮层显示的时候，可能有时鼠标只是不经意间划过，此时也会触发浮层的立即显示而可能遮挡相邻的其他元素(如自定义的<code>title</code>显示效果)，而被遮挡的相邻元素可能才是我们想要操作的目标元素，这就导致我们要刻意避开这类可能会出现浮层遮挡目标元素的元素，从而影响使用体验。对于该问题，实际可以通过增加<code>:hover</code>延迟效果来增强交互体验，关键代码就是结合<code>transtion</code>使用<code>visibility</code>：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">[data-title]:before</span> <span class="token punctuation">{</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">transtion</span><span class="token punctuation">:</span> visibility 0s 0.2s<span class="token punctuation">;</span>  <span class="token comment">/* transtion 对 display 无过渡效果，但对 visibility 有过渡效果 */</span>
<span class="token punctuation">}</span>
<span class="token selector">[data-title]:hover:before</span> <span class="token punctuation">{</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用<code>visibility: hidden;</code>隐藏元素时，元素的空间位置和大小虽然不会消失，但其并不会影响其他元素的交互，其表现就像<code>opacity: 0;</code>+<code>pointer-events: none;</code>占用着位置却看不见也无法选中和交互也不覆盖遮挡其他元素，这比使用<code>display</code>切换元素的显示与隐藏在某些场景下更适用，且所有浏览器都支持。</p> <p>使用<code>visibility</code>开实现元素<code>:hover</code>时的显示与隐藏有个好处：<span style="color:orange;">其可以结合过渡<code>transtion</code>(IE10+支持)使用来增加延时隐藏，这可以解决当<code>:hover</code>元素与要显示的浮层元素之间存在间隙时，使得鼠标从<code>:hover</code>元素移动到浮层元素时经过这个间隙时(此时已算是移出了hover热区)在过渡时间内浮层元素不会立即隐藏，这对于浮层元素中也允许鼠标进入的情况非常有用</span>。</p> <h3 id="激活状态伪类-active"><a href="#激活状态伪类-active" class="header-anchor">#</a> 激活状态伪类 :active</h3> <ul><li>IE浏览器下<code>:active</code>样式的应用无法冒泡，也就是说当元素和其子元素都设置了<code>:active</code>时，当子元素触发<code>:active</code>时并不会冒泡到上层而触发父元素的<code>:active</code>；</li> <li>IE浏览器下<code>&lt;html&gt;</code>、<code>&lt;body&gt;</code>元素应用<code>:active</code>伪类设置背景色后，背景色是无法还原的，也就是点击是正确应用了<code>:active</code>的背景色，但抬起鼠标后背景色并不会还原，且无论怎么再次点击都无法还原；</li> <li>IE7下链接元素必须失焦后才能取消<code>:active</code>时的样式（原则上鼠标抬起就该还原，而不管该链接元素是否失焦）；</li> <li>键盘访问无法触发<code>:active</code>伪类，<code>:focus</code>到的元素按下回车键时的行为与点击一致，但并不会触发<code>:active</code>伪类；</li> <li>移动端Safari浏览器下<code>:active</code>伪类默认是无效的，需要设置<code>touch</code>事件才支持(可空回调)，若要求高细节还可使用其一个私有CSS属性实现触摸高亮反馈：<div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 touchstart 或 touchend 都可以</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span> <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><code>:active</code>伪类在<del>点击上报中的应用，这种上报即使禁用JS也无法阻止</del>（<span style="color:orange;">实测该应用无效，因CSS内容只会加载一次，这里不会因为每次点击都重新去请求图片</span>）：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 并不能达到上报效果，只有初次点击有效 */</span>
<span class="token selector">.btn:active:after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./px.gif?action=click&amp;id=btn1<span class="token punctuation">)</span></span><span class="token punctuation">;</span>  <span class="token comment">/* 通过请求图片上报信息 */</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token comment">/* 这会导致伪元素直接不会生成，所以始终隐藏状态应该使用 visibility 才有效 */</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="焦点伪类-focus"><a href="#焦点伪类-focus" class="header-anchor">#</a> 焦点伪类 :focus</h3> <p>IE8+支持，与<code>:active</code>不同，<code>:focus</code>伪类默认只能匹配特定的元素，包括：</p> <ul><li>非<code>disabled</code>状态的表单元素（<code>&lt;button&gt;</code>按钮也属于表单元素）；</li> <li>包含<code>href</code>属性的<code>&lt;a&gt;</code>元素；</li> <li><code>&lt;area&gt;</code>元素，但可生效的CSS属性有限；</li> <li>HTML5中的<code>&lt;summary&gt;</code>元素；</li></ul> <p>不在上面提到的范围内的普通元素应用<code>:focus</code>是无效的，但满足以下条件之一的普通元素也可以应用<code>:focus</code>伪类：</p> <ul><li>元素上设置了<code>contenteditable</code>属性，此时该普通元素可输入编辑；</li> <li>元素上设置了<code>tabindex</code>属性，表示可以通过<code>Tab</code>键进行索引；
<ul><li>若希望元素既可被<code>Tab</code>索引，有可在被点击时触发<code>:focus</code>伪类样式，则可设置为<code>tabindex=&quot;0&quot;</code>(或大于0的值)；</li> <li>若不希望元素可被<code>Tab</code>索引，但可在被点击时触发<code>:focus</code>伪类样式，则可设置为<code>tabindex=&quot;-1&quot;</code>；</li></ul></li></ul> <p><code>:focus</code>伪类也是可以不级联其他选择器而作为独立关系型选择器中的一部分使用：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">:focus div</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">:focus + img</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><p><strong>注意：</strong> 通过<code>:focus</code>来控制元素的显隐效果，在 iOS Safari 浏览器下，元素一旦处于<code>focus</code>状态，除非点击其他可聚焦的元素来转义<code>focus</code>焦点，否则该元素会一直保持<code>focus</code>状态。</p> <ul><li>解决方法：给祖先容器元素设置<code>tabindex=&quot;-1&quot;</code>，同时取消<code>outline</code>样式即可；</li> <li>若在用JS进行开发时遇到 iOS Safari 下不触发<code>blur</code>事件的问题，也可以用上面的方法解决，但需注意<code>tabindex=&quot;-1&quot;</code>设置在<code>&lt;body&gt;</code>元素上是无效的；</li> <li>上面提到的解决方法只适用于纯展示的情况，若浮层内部有其他交互效果，则此方法就有问题，失焦或焦点转移都会导致浮层消失，此时可能就需要用<code>:focus-within</code>去做了；</li></ul> <p><strong>一个页面同一时刻最多只会有一个聚焦的元素。</strong></p> <p>模拟浏览器原生的<code>focus</code>轮廓：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">:focus</span> <span class="token punctuation">{</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> 1px dotted lightblue<span class="token punctuation">;</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> 5px auto -webkit-focus-ring-color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="focus-伪类与键盘无障碍访问"><a href="#focus-伪类与键盘无障碍访问" class="header-anchor">#</a> :focus 伪类与键盘无障碍访问</h3> <p>从无障碍访问来说，若要用其他元素模拟按钮元素(或其他表单元素)则推荐使用<code>&lt;label&gt;</code>元素，并使用<code>for</code>属性与实际按钮进行关联，因为使用<code>&lt;label&gt;</code>元素进行模拟既可以保留语义和原生行为，视觉上又能完美兼容。注意两点：</p> <ul><li>原始表单元素的隐藏，要么设置透明度<code>opacity: 0</code>隐藏，要么剪裁隐藏，不要使用<code>visibility: hidden</code>或<code>display: none</code>进行隐藏，虽然IE9+上功能正常，但<strong>后两种隐藏无法被键盘聚焦</strong>；</li> <li>不要忘记原始表单元素聚焦的时候高亮显示自定义的模拟UI的元素，通常使用相邻兄弟选择符(+)，特殊情况也可使用随后兄弟选择符(~)，如高亮多个元素时；</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">[type=&quot;submit&quot;]</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>0 0 0 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.btn</span> <span class="token punctuation">{</span> <span class="token comment">/* button style... */</span> <span class="token punctuation">}</span>
  <span class="token selector">:focus + .btn</span> <span class="token punctuation">{</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> 1px dotted lightblue<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> 5px auto -webkit-focus-ring-color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="内含焦点伪类-focus-within"><a href="#内含焦点伪类-focus-within" class="header-anchor">#</a> 内含焦点伪类 :focus-within</h3> <p>IE不支持该伪类。该伪类与<code>:focus</code>的区别在于<code>:focus</code>只有当前元素处于聚焦状态时才匹配，而<code>:focus-within</code>是在<strong>当前元素或者当前元素的任意子元素</strong>(即元素或元素内)处于聚焦状态时都会匹配。</p> <h3 id="可见焦点伪类-focus-visible"><a href="#可见焦点伪类-focus-visible" class="header-anchor">#</a> 可见焦点伪类 :focus-visible</h3> <p>书上称“键盘焦点伪类”，中文意思根据自己理解而言。</p> <p><code>:focus-visible</code>伪类匹配的场景是：元素聚焦，同时浏览器认为聚焦轮廓应该显示(这个判断是浏览器自行决定的，CSS非规范定义死的)。什么意思呢，就像一个<code>&lt;a&gt;</code>元素链接一个地址，比较符合期望的效果是鼠标点击聚焦时无需出现轮廓，而使用<code>Tab</code>键盘访问聚焦时需要其显示轮廓以突出当前焦点位置，这是比较理想的交互方式，而有些焦点元素可能不管是点击还是键盘访问都会出现轮廓就使得正常点击时不好看，若直接设置<code>outline: none</code>则又影响键盘访问时的可访问性，所以为了区分类似这两种不同使用场景就出现了<code>:focus-visible</code>伪类，只不过这个是否显示聚焦状态是有个浏览器自行判断的，而就Chrome而言，其认为使用键盘访问时触发的聚焦才是<code>:focus-visible</code>，鼠标点击聚焦的就不匹配，从而可针对键盘访问时单独写样式。</p> <h2 id="url链接-定位伪类"><a href="#url链接-定位伪类" class="header-anchor">#</a> URL链接/定位伪类</h2> <h3 id="link-visited-hover-active"><a href="#link-visited-hover-active" class="header-anchor">#</a> :link/:visited/:hover/:active</h3> <p>由于伪类优先级相同，故链接在使用时未避免设置的不生效，应该注意先后顺序由先到后依次应该是：<code>:link</code>、<code>:visited</code>、<code>:hover</code>、<code>:active</code>，取首字母简记<code>Lv ha</code></p> <p>虽然HTML中原生具有<code>href</code>属性的元素有<code>&lt;a&gt;</code>、<code>&lt;link&gt;</code>、<code>&lt;area&gt;</code>三种，但<code>:link</code>伪类只能匹配<code>&lt;a&gt;</code>元素。</p> <p><code>:link</code>伪类可以识别真链接(带有<code>href</code>属性的<code>a</code>标签)：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">a</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">/* 下面的两个标签都可匹配 */</span>
  <span class="token selector">:link</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">/* 只能匹配第二个被认为是链接的 a 标签 */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span>当做纯按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url-or-hash<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>链接<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>:visited</code>伪类中支持的CSS属性有限(只支持颜色类属性，如文字颜色、背景色、边框色等)，且不能级联<code>::before</code>和<code>::after</code>这些伪元素使用。虽然可以结合像子选择器等其他选择器使用，但支持的属性也一样只有颜色相关的几个，且也不能与伪元素一起使用。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">a:visited:after</span> <span class="token punctuation">{</span> <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'已读'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">/* 无效 */</span>
<span class="token selector">a:visited span</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">/* 有效 */</span>
<span class="token selector">a:visited span:after</span> <span class="token punctuation">{</span> <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'已读'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">/* 无效 */</span>
</code></pre></div><p><code>:visited</code>伪类选择器控制颜色时，虽然在语法上它支持半透明颜色，但实际表现上却要么是纯色，要么全透明（且不支持<code>transparent</code>关键字？）。</p> <p><code>:visited</code>伪类选择器中的属性只能重置，而不能凭空设置，也即是进入<code>:visited</code>状态之前的样式中也要设置对应属性，然后在<code>:visited</code>中重置为另一个值。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">a</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">a:visited</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">/* 这里的背景色将不会生效，因为标签选择器中未设置该属性 */</span>
</code></pre></div><p><code>:visited</code>伪类选择器设置的各颜色即使在该状态下呈现了，也无法通过JS的<code>getComputedStyle()</code>方法获取到对应属性的计算样式，结果仍然会是基础状态样式。</p> <h3 id="any-link-超链接伪类"><a href="#any-link-超链接伪类" class="header-anchor">#</a> :any-link 超链接伪类</h3> <p>IE不支持，该伪类与<code>:link</code>伪类有很多相似之处，但其弥补了<code>:link</code>伪类的很多缺点，其有如下两大特性：</p> <ul><li>匹配所有设置了<code>href</code>属性的链接元素，包括<code>&lt;a&gt;</code>、<code>&lt;link&gt;</code>、<code>&lt;area&gt;</code>三种元素；</li> <li>匹配所有匹配<code>:link</code>伪类或者<code>:visited</code>伪类的元素(即该两种状态下都可匹配到)。</li></ul> <p>与<code>a</code>标签选择器相比，<code>:any-link</code>伪类可更准确识别链接元素，与<code>:link</code>伪类相比，使用<code>:any-link</code>伪类伪类无需担心<code>:visited</code>伪类浏览器默认样式的干扰。</p> <h3 id="目标伪类-target"><a href="#目标伪类-target" class="header-anchor">#</a> 目标伪类 :target</h3> <p>IE9+支持，该伪类是一个与URL地址中的锚点定位强关联的伪类，可用来实现原本很多需要JS才能实现的效果。该伪类<strong>匹配URL锚点(hash)对应的元素</strong>。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 假设当前页面浏览器地址栏为：https://path/index.html#hash --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">li:target</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>模块1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- 不匹配 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>模块2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- 不匹配 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hash<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>模块3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- 匹配，因此时浏览器地址 hash 与该元素 id 一致 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>部分浏览器(如IE和Firefox)下，<code>&lt;a&gt;</code>元素的<code>name</code>属性值也会被当做是锚点值，此时与地址<code>hash</code>匹配时也会触发浏览器的锚点滚动定位，故一般都不使用<code>&lt;a&gt;</code>加<code>name</code>属性值进行锚点匹配，都是用<code>id</code>进行锚点匹配。</p> <p>若页面有多个元素使用同一个<code>id</code>，则<code>:target</code>只会匹配第一个元素（IE都会匹配），若想借助<code>:target</code>匹配多个元素，可以借助选择符实现，如父子或兄弟选择符等。</p> <p>当使用JS修改URL中<code>hash</code>(锚点)值时，也会触发<code>:target</code>伪类对元素的匹配：</p> <div class="language-js extra-class"><pre class="language-js"><code>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> <span class="token string">'t1'</span><span class="token punctuation">;</span>   <span class="token comment">// 此时就将使 :target 伪类匹配到模块1</span>
</code></pre></div><p>若匹配锚点的元素是<code>display: none</code>隐藏的，虽然浏览器不会触发任何滚动，但是并不影响该元素依然匹配<code>:target</code>伪类，该特性可以实现很多交互效果。</p> <h4 id="target-伪类实现交互举例"><a href="#target-伪类实现交互举例" class="header-anchor">#</a> :target 伪类实现交互举例</h4> <p>这些示例都须注意同一个问题：<span style="color:orange;">在Vue等单页应用中，如果使用的是<code>hash</code>路由模式，则会有影响，不能使用该技术。</span></p> <h5 id="展开与收起效果"><a href="#展开与收起效果" class="header-anchor">#</a> 展开与收起效果</h5> <div class="demo-block demo-en-US demo-CSS%E9%80%89%E6%8B%A9%E5%99%A8%E4%B8%96%E7%95%8C.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div><p>之所以使用单独的占位元素作为锚点定位，再通过兄弟选择器进行相关关系匹配，而不是像传统方法将父元素作为锚点元素，<span style="color:red;">是由于当`display`属性的值不是`none`的元素被锚点匹配时，会触发浏览器元素的滚动定位行为</span>，出现跳动，从而影响体验...</p> <div id="articleMore" hidden="hidden"></div> <a href="#articleMore" data-open="true" class="cs-button">阅读更多</a> <p class="cs-more-p">该实现方案与“单复选框元素显隐技术”相比有一个很大的好处，那就是可以借助URL地址记住当前页面的交互状态。例如本例中当展开更多内容后在刷新页面，此时内容依然会保持展开状态。在移动一些交互浮层中，通过“:target”显隐技术实现，可以无须借助localStorage就能记住当前页面的浮层显示状态。</p> <a href="##" data-open="false" class="cs-button">收起</a></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-html extra-class" data-v-47d1da0a><pre class="language-html" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>p</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>之所以使用单独的占位元素作为锚点定位，再通过兄弟选择器进行相关关系匹配，而不是像传统方法将父元素作为锚点元素，<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>span</span> <span class="token style-attr" data-v-47d1da0a><span class="token attr-name" data-v-47d1da0a>style</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span><span class="token style language-css" data-v-47d1da0a><span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> red<span class="token punctuation" data-v-47d1da0a>;</span></span><span class="token punctuation" data-v-47d1da0a>&quot;</span></span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>是由于当`display`属性的值不是`none`的元素被锚点匹配时，会触发浏览器元素的滚动定位行为<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>span</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>，出现跳动，从而影响体验...<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>p</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>id</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>articleMore<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>hidden</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>a</span> <span class="token attr-name" data-v-47d1da0a>href</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>#articleMore<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>cs-button<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>data-open</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>true<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>阅读更多<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>a</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span> 
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>p</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>cs-more-p<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>该实现方案与“单复选框元素显隐技术”相比有一个很大的好处，那就是可以借助URL地址记住当前页面的交互状态。例如本例中当展开更多内容后在刷新页面，此时内容依然会保持展开状态。在移动一些交互浮层中，通过“:target”显隐技术实现，可以无须借助localStorage就能记住当前页面的浮层显示状态。<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>p</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>a</span> <span class="token attr-name" data-v-47d1da0a>href</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>##<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>cs-button<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>data-open</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>false<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>收起<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>a</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
  <span class="token selector" data-v-47d1da0a>.cs-more-p,
  [data-open=false]</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> none<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
  <span class="token selector" data-v-47d1da0a>:target ~ [data-open=true]</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> none<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
  <span class="token selector" data-v-47d1da0a>:target ~ .cs-more-p,
  :target ~ [data-open=false]</span> <span class="token punctuation" data-v-47d1da0a>{</span>
    <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> block<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h5 id="选项卡效果"><a href="#选项卡效果" class="header-anchor">#</a> 选项卡效果</h5> <p><a href="https://demo.cssworld.cn/selector/8/3-2.php" target="_blank" rel="noopener noreferrer">在线 demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>上面的<code>:target</code>伪类交互技术并不完美，一是它对 DOM 结构有要求，锚链元素需要放在前面，扩展性较差（新增一个内容就要新增匹配的CSS），二是它的布局效果不稳定，如果页面中还有其他相同的锚点链接，点击这些链接时就可能会破坏前面说的这些效果，，所以也需要根据情况使用。</p> <h3 id="目标容器伪类-target-within"><a href="#目标容器伪类-target-within" class="header-anchor">#</a> 目标容器伪类 :target-within</h3> <p><code>:target-within</code>伪类是<code>:target</code>的升级版，其匹配规则与<code>:target</code>相同，但<code>:target-within</code>伪类可以匹配<strong>当前元素或当前元素的任意子元素处于<code>:target</code>状态时都会匹配</strong>。</p> <p><code>:target-within</code>与<code>:target</code>的关系就跟<code>:focus-within</code>与<code>:focus</code>的关系一样，
但 <b class="color-danger">当前暂无浏览器支持 <code>:target-within</code></b>。</p> <h2 id="输入伪类"><a href="#输入伪类" class="header-anchor">#</a> 输入伪类</h2> <h3 id="可用与禁用状态伪类-enabled-disabled"><a href="#可用与禁用状态伪类-enabled-disabled" class="header-anchor">#</a> 可用与禁用状态伪类 :enabled/:disabled</h3> <p>两者都 IE9+ 支持，但使用属性选择器<code>[disabled]</code>时在 IE8 下也可设置初始禁用状态下的CSS样式，但伪类选择器可实时响应表单元素的内在状态变化，而属性选择器不行，就像<code>:checked</code>与<code>[checked]</code>一样，伪类状态可以响应表单组件的实际状态表现(即默认UI变化和DOM的property)，而属性选择器只能响应HTML标签上该属性的存在与否状态（而表单的状态变化并不会直接反应在HTML标签的属性attribute上，除非显式增删上面状态相关的attribute）。</p> <p>上面的状态伪类通常情况下是对表单元素有效，<span class="color-warning">但有个特例就是<code>&lt;a&gt;</code>元素，在 Chrome 下，<strong>带有<code>href</code>属性的<code>&lt;a&gt;</code>元素可以匹配<code>:enabled</code>伪类，但其无法匹配<code>:disabled</code>伪类</strong></span>。</p> <p><strong>对于设置了<code>visibility: hidden</code>或<code>display: none</code>的不可见元素依然可以匹配<code>:enabled</code>和<code>:disabled</code>伪类`</strong></p> <p>在<span class="color-warning">实际应用中<code>:enabled</code>伪类在JS中的作用比在CSS中大</span>，因为<span class="color-danger">表单元素默认就是<code>:enabled</code>状态，我们可以直接使用标签或其他选择器而无需使用<code>:enabled</code>伪类，而在JS中查找DOM时使用该伪类可只获取可用状态的表单元素，比如<code>document.querySelectorAll('form:enabled')</code></span>。</p> <p><strong>设置了<code>pointer-events: none</code>的元素无法显示title属性提示。</strong></p> <h3 id="读写伪类-read-only-read-write"><a href="#读写伪类-read-only-read-write" class="header-anchor">#</a> 读写伪类 :read-only/:read-write</h3> <p>这两个伪类只能作用于<code>&lt;input&gt;</code>和<code>&lt;textarea&gt;</code>两个元素（IE不支持），且<span class="color-danger">表示只读的HTML上attribute是<code>readonly</code>（而CSS中对应的伪类是<code>:read-only</code>）</span>，注意别混淆。</p> <p><code>readonly</code>属性与<code>disabled</code>属性的区别在于，前者只是让表单元素处于只读状态，但依然可以被表单提交，而后者则是禁用状态，无法提交。</p> <h3 id="占位符显示伪类-placeholder-shown"><a href="#占位符显示伪类-placeholder-shown" class="header-anchor">#</a> 占位符显示伪类 :placeholder-shown</h3> <p>注意这里是占位符<strong>显示</strong>伪类(且是<code>-shown</code>不是<code>-show</code>)，而<code>::placeholder</code>是占位符伪元素，注意区分（就像<code>::before</code>和<code>::after</code>也是属于伪元素，不是该书讨论的选择器）。</p> <p>该伪类表示当输入框的<code>placeholder</code>内容（前提是该输入框有<code>placeholder</code>）显示的时候（通常就是输入框空内容的时候），匹配该输入框，注意是匹配的该输入框，而不是匹配占位符伪元素。</p> <h4 id="实现md风格占位符交互效果"><a href="#实现md风格占位符交互效果" class="header-anchor">#</a> 实现MD风格占位符交互效果</h4> <p><a href="https://demo.cssworld.cn/selector/9/1-1.php" target="_blank" rel="noopener noreferrer">在线 demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，MD：Material Design，谷歌的界面设计风格。</p> <p>主要代码与原理如下：</p> <div class="demo-block demo-en-US demo-CSS%E9%80%89%E6%8B%A9%E5%99%A8%E4%B8%96%E7%95%8C.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="relative"><input type="text" placeholder="邮箱" class="e-input__input"> <label class="e-input__label">邮箱</label></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-html extra-class" data-v-47d1da0a><pre class="language-html" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>relative<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>input</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>e-input__input<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>type</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>text<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>placeholder</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>邮箱<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token punctuation" data-v-47d1da0a>/&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>label</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>e-input__label<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>邮箱<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>label</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token comment" data-v-47d1da0a>/* 让原本的占位符看不见 */</span>
<span class="token selector" data-v-47d1da0a>.e-input__input:placeholder-shown::placeholder</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>color</span><span class="token punctuation" data-v-47d1da0a>:</span> transparent<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token comment" data-v-47d1da0a>/* 单独使用一个元素来模拟占位符 */</span>
<span class="token selector" data-v-47d1da0a>.e-input__label</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>position</span><span class="token punctuation" data-v-47d1da0a>:</span> absolute<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>left</span><span class="token punctuation" data-v-47d1da0a>:</span> 1em<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>top</span><span class="token punctuation" data-v-47d1da0a>:</span> 14px<span class="token punctuation" data-v-47d1da0a>;</span>
  <span class="token property" data-v-47d1da0a>pointer-events</span><span class="token punctuation" data-v-47d1da0a>:</span> none<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token comment" data-v-47d1da0a>/* 在输入框聚焦及占位符不显示的时候对模拟占位符进行重定位（缩小并位移到上方） */</span>
<span class="token selector" data-v-47d1da0a>.e-input__input:not(:placeholder-shown) + .e-input__label,
.e-input__input:focus + .e-input__label</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>transform</span><span class="token punctuation" data-v-47d1da0a>:</span> <span class="token function" data-v-47d1da0a>scale</span><span class="token punctuation" data-v-47d1da0a>(</span>0.8<span class="token punctuation" data-v-47d1da0a>)</span> <span class="token function" data-v-47d1da0a>translateY</span><span class="token punctuation" data-v-47d1da0a>(</span>-20px<span class="token punctuation" data-v-47d1da0a>)</span><span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div><h4 id="placeholder-shown-与空值判断"><a href="#placeholder-shown-与空值判断" class="header-anchor">#</a> :placeholder-shown 与空值判断</h4> <p>由于占位符内容只在空值状态的时候才显示，所以可以利用<code>:placeholder-shown</code>伪类来判断输入框是否为空值，从而在不使用JS的情况下下实现基本必填提示交互（缺点是初始就会显示，而非等待用户提交或聚焦再失焦后校验）。</p> <div class="demo-block demo-en-US demo-CSS%E9%80%89%E6%8B%A9%E5%99%A8%E4%B8%96%E7%95%8C.html" data-v-47d1da0a><div class="demo-content" data-v-47d1da0a><div><div class="relative"><input type="text" placeholder=" " class="e-input__input"> <label class="e-input__tips">必填项</label></div></div></div> <div class="meta" data-v-47d1da0a><!----> <div class="code-content" data-v-47d1da0a><div class="language-html extra-class" data-v-47d1da0a><pre class="language-html" data-v-47d1da0a><code data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>div</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>relative<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>input</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>e-input__input<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>type</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>text<span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token attr-name" data-v-47d1da0a>placeholder</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span> <span class="token punctuation" data-v-47d1da0a>&quot;</span></span> <span class="token punctuation" data-v-47d1da0a>/&gt;</span></span>
    <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>label</span> <span class="token attr-name" data-v-47d1da0a>class</span><span class="token attr-value" data-v-47d1da0a><span class="token punctuation attr-equals" data-v-47d1da0a>=</span><span class="token punctuation" data-v-47d1da0a>&quot;</span>e-input__tips<span class="token punctuation" data-v-47d1da0a>&quot;</span></span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>必填项<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>label</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>  
  <span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>div</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>template</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>

<span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span><span class="token style" data-v-47d1da0a><span class="token language-css" data-v-47d1da0a>
<span class="token selector" data-v-47d1da0a>.e-input__label</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> none<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
<span class="token selector" data-v-47d1da0a>.e-input__input:placeholder-shown + .e-input__label</span> <span class="token punctuation" data-v-47d1da0a>{</span>
  <span class="token property" data-v-47d1da0a>display</span><span class="token punctuation" data-v-47d1da0a>:</span> inline<span class="token punctuation" data-v-47d1da0a>;</span>
<span class="token punctuation" data-v-47d1da0a>}</span>
</span></span><span class="token tag" data-v-47d1da0a><span class="token tag" data-v-47d1da0a><span class="token punctuation" data-v-47d1da0a>&lt;/</span>style</span><span class="token punctuation" data-v-47d1da0a>&gt;</span></span>
</code></pre></div></div></div> <div class="demo-block-control" style="width:unset;" data-v-47d1da0a><i class="caret-bottom icon" data-v-47d1da0a data-v-47d1da0a></i> <span style="display:none;" data-v-47d1da0a data-v-47d1da0a>Expand</span> <span class="copy-action" style="display:;" data-v-47d1da0a>Copy</span> <span class="copy-action copy-action-success" style="display:none;" data-v-47d1da0a data-v-47d1da0a>Copy</span></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/css/scss语法.html" class="prev">
        SCSS基础语法
      </a></span> <span class="next"><a href="/docs/css/CSS世界/层叠规则.html">
        层叠规则
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.08fe61ab.js" defer></script><script src="/docs/assets/js/2.7cd822c1.js" defer></script><script src="/docs/assets/js/9.d47db3aa.js" defer></script>
  </body>
</html>
