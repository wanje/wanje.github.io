<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>内嵌iframe</title>
    <link rel="stylesheet" href="../../css/defaultPc.css">
    <link rel="stylesheet" href="../../plugins/highlight/styles/androidstudio.css">
    <script src="../../plugins/vue2.6.7.min.js"></script>
    <script src="../../plugins/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style type="text/css">
        .layout-box {height: 100vh;}
        .code-area {overflow: auto;background: #282b2e;}
        .code {margin-left: -5em;}
    </style>
</head>
<body>
<div class="flex-box layout-box">
    <div id="app" class="flex-5 code-area">
    </div>
</div>
<script type="text/javascript" charset="UTF-8">
  import AES from 'crypto-js/aes'
  import Utf8 from 'crypto-js/enc-utf8'
  import Hex from 'crypto-js/enc-hex'
  import Base64 from 'crypto-js/enc-base64'
  import ECB from 'crypto-js/mode-ecb'
  import Pkcs7 from 'crypto-js/pad-pkcs7'

  new Vue({
    el: '#app',
    data: {
      msg: ''
    },
    created() {
      const aesKey = 'abcdefghijklmnop'; // 秘钥必须为：8的整数倍位数
      const message = 'Hello World，您好！';
      // 加密
      const encrypt = AES.encrypt(message, Utf8.parse(aesKey), {
        mode: ECB,
        padding: Pkcs7
//      }).toString();
      }).ciphertext.toString();
      console.log('明文：', message);
      console.log('密文：', encrypt);
      console.log('密钥：', aesKey);

      // 解密
      const decrypt = AES.decrypt(Base64.stringify(Hex.parse(encrypt)), Utf8.parse(aesKey), {
//      const decrypt = AES.decrypt(encrypt, Utf8.parse(aesKey), {
        mode: ECB,
        padding: Pkcs7
      }).toString(Utf8);
      console.log('解密：', decrypt);
      console.log('解密object：', JSON.parse(decrypt));

//    const decrypt2 = AES.decrypt(Base64.stringify(Hex.parse('F285AA3E4CE4EE864EE2AC09E69CB3DB77C77D39BAC9578CC2EC53DA1A8B2E98')), Utf8.parse(aesKey), {
      const decrypt2 = AES.decrypt('72sP3wKlcHYdajErFQnVB/hf44FVd0uUqdpzq6lqHvDeZHUDnJq5EW/lX6Be77b+', Utf8.parse(aesKey), {
        mode: ECB
      }).toString(Utf8);
      console.log('解密2：', decrypt2);
    }
  });
</script>
<script type="text/javascript" charset="UTF-8" id="script">
    // sth
</script>
<script>
    document.getElementById('show-script').innerHTML = document.getElementById('script').innerHTML;
</script>
</body>
</html>