(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{323:function(t,a,s){var n=s(0),e=s(6);n({target:"Object",stat:!0,forced:!e,sham:!e},{defineProperties:s(184)})},324:function(t,a,s){var n=s(0),e=s(1),r=s(14),p=s(22).f,v=s(6),c=e((function(){p(1)}));n({target:"Object",stat:!0,forced:!v||c,sham:!v},{getOwnPropertyDescriptor:function(t,a){return p(r(t),a)}})},325:function(t,a,s){"use strict";s.d(a,"a",(function(){return r}));s(47),s(21),s(71),s(323),s(182),s(324),s(185),s(72),s(73);function n(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function e(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,n)}return s}function r(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?e(Object(s),!0).forEach((function(a){n(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}},341:function(t,a,s){},369:function(t,a,s){"use strict";s(341)},429:function(t,a,s){"use strict";s.r(a);var n=s(325),e={name:"component-doc",components:{"render-demo-0":Object(n.a)({render:function(){var t=this.$createElement;return(this._self._c||t)("div",[[this._m(0)]],2)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("p",[t._v("之所以使用单独的占位元素作为锚点定位，再通过兄弟选择器进行相关关系匹配，而不是像传统方法将父元素作为锚点元素，"),s("span",{staticStyle:{color:"red"}},[t._v("是由于当`display`属性的值不是`none`的元素被锚点匹配时，会触发浏览器元素的滚动定位行为")]),t._v("，出现跳动，从而影响体验...")]),t._v(" "),s("div",{attrs:{id:"articleMore",hidden:""}}),t._v(" "),s("a",{staticClass:"cs-button",attrs:{href:"#articleMore","data-open":"true"}},[t._v("阅读更多")]),t._v(" "),s("p",{staticClass:"cs-more-p"},[t._v("该实现方案与“单复选框元素显隐技术”相比有一个很大的好处，那就是可以借助URL地址记住当前页面的交互状态。例如本例中当展开更多内容后在刷新页面，此时内容依然会保持展开状态。在移动一些交互浮层中，通过“:target”显隐技术实现，可以无须借助localStorage就能记住当前页面的浮层显示状态。")]),t._v(" "),s("a",{staticClass:"cs-button",attrs:{href:"##","data-open":"false"}},[t._v("收起")])])}]},{})}},r=(s(369),s(18)),p=Object(r.a)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"css选择器世界"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css选择器世界"}},[t._v("#")]),t._v(" CSS选择器世界")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#样式分层优先级"}},[t._v("样式分层优先级")])]),s("li",[s("a",{attrs:{href:"#选择器优先级规则"}},[t._v("选择器优先级规则")])]),s("li",[s("a",{attrs:{href:"#选择器是否区分大小写"}},[t._v("选择器是否区分大小写")])]),s("li",[s("a",{attrs:{href:"#命名合法性"}},[t._v("命名合法性")])]),s("li",[s("a",{attrs:{href:"#选择器设计最佳实践"}},[t._v("选择器设计最佳实践")])]),s("li",[s("a",{attrs:{href:"#后代选择符空格"}},[t._v("后代选择符空格")])]),s("li",[s("a",{attrs:{href:"#子选择符箭头"}},[t._v("子选择符箭头（>）")])]),s("li",[s("a",{attrs:{href:"#相邻兄弟选择符加号"}},[t._v("相邻兄弟选择符加号（+）")])]),s("li",[s("a",{attrs:{href:"#随后兄弟选择符"}},[t._v("随后兄弟选择符（~）")]),s("ul",[s("li",[s("a",{attrs:{href:"#如何实现前面兄弟选择符的效果"}},[t._v("如何实现前面兄弟选择符的效果")])])])]),s("li",[s("a",{attrs:{href:"#列选择符"}},[t._v("列选择符（||）")])]),s("li",[s("a",{attrs:{href:"#元素选择器的级联语法"}},[t._v("元素选择器的级联语法")])]),s("li",[s("a",{attrs:{href:"#通配符选择器"}},[t._v("通配符选择器*")])]),s("li",[s("a",{attrs:{href:"#id选择器实际可重复"}},[t._v("ID选择器实际可重复")])]),s("li",[s("a",{attrs:{href:"#属性-值-匹配"}},[t._v("属性(值)匹配")])]),s("li",[s("a",{attrs:{href:"#鼠标经过伪类-hover"}},[t._v("鼠标经过伪类 :hover")])]),s("li",[s("a",{attrs:{href:"#激活状态伪类-active"}},[t._v("激活状态伪类 :active")])]),s("li",[s("a",{attrs:{href:"#焦点伪类-focus"}},[t._v("焦点伪类 :focus")]),s("ul",[s("li",[s("a",{attrs:{href:"#focus-伪类与键盘无障碍访问"}},[t._v(":focus 伪类与键盘无障碍访问")])])])]),s("li",[s("a",{attrs:{href:"#内含焦点伪类-focus-within"}},[t._v("内含焦点伪类 :focus-within")])]),s("li",[s("a",{attrs:{href:"#可见焦点伪类-focus-visible"}},[t._v("可见焦点伪类 :focus-visible")])]),s("li",[s("a",{attrs:{href:"#link-visited-hover-active"}},[t._v(":link/:visited/:hover/:active")])]),s("li",[s("a",{attrs:{href:"#any-link-超链接伪类"}},[t._v(":any-link 超链接伪类")])]),s("li",[s("a",{attrs:{href:"#目标伪类-target"}},[t._v("目标伪类 :target")]),s("ul",[s("li",[s("a",{attrs:{href:"#target-伪类实现交互举例"}},[t._v(":target 伪类实现交互举例")])])])])])]),s("p"),t._v(" "),s("p",[t._v("CSS选择器分为4类：选择器、选择符、伪类、伪元素。")]),t._v(" "),s("p",[t._v("双管道符"),s("code",[t._v("||")]),t._v("表示列关系")]),t._v(" "),s("p",[t._v("伪元素的特征是其后面有两个冒号"),s("code",[t._v("::")]),t._v("(旧版本只有一个"),s("code",[t._v(":")]),t._v(")，常见的有"),s("code",[t._v("::before")]),t._v("、"),s("code",[t._v("::after")]),t._v("、"),s("code",[t._v("::first-letter")]),t._v("、"),s("code",[t._v("::first-line")]),t._v("等。")]),t._v(" "),s("p",[t._v("CSS选择器的命名空间(兼容性非常好但应用不多)：由"),s("code",[t._v("@namespace")]),t._v("关键字规则声明，使用 "),s("code",[t._v("spaceName|selector")]),t._v("形式应用，管道符"),s("code",[t._v("|")]),t._v("前为声明的空间名，后为选择器。")]),t._v(" "),s("p",[t._v("当无效的CSS选择器(包括规范中有但对应浏览器不支持的情况)与浏览器支持的选择器写在一起时，会导致整个选择器无效（如使用逗号并列时，有一个无效则都无效）。")]),t._v(" "),s("p",[t._v("CSS选择器是从右往左进行匹配渲染的，如"),s("code",[t._v(".box>div")]),t._v("，是先匹配页面所有的"),s("code",[t._v("div")]),t._v("元素，再匹配"),s("code",[t._v(".box")]),t._v("类名元素。")]),t._v(" "),s("p",[s("strong",[s("code",[t._v(":first-of-type")]),t._v("、"),s("code",[t._v(":last-of-type")]),t._v("、"),s("code",[t._v(":nth-of-type()")]),t._v("这种类型选择器只对标签选择符有效，对"),s("code",[t._v("class")]),t._v("无效，与"),s("code",[t._v("class")]),t._v("结合使用时其实际也是按照"),s("code",[t._v("class")]),t._v("对应的标签去匹配的")])]),t._v(" "),s("h1",{attrs:{id:"css声明的优先级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css声明的优先级"}},[t._v("#")]),t._v(" CSS声明的优先级")]),t._v(" "),s("h2",{attrs:{id:"样式分层优先级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#样式分层优先级"}},[t._v("#")]),t._v(" 样式分层优先级")]),t._v(" "),s("p",[s("code",[t._v("开发者编写的样式")]),t._v(" > "),s("code",[t._v("@layer中的样式")]),t._v(" > "),s("code",[t._v("浏览器插件/扩展注入样式(injected stylesheet)")]),t._v(" > "),s("code",[t._v("浏览器内置样式(user agent stylesheet)")]),t._v(" > "),s("code",[t._v("继承样式")])]),t._v(" "),s("p",[s("strong",[t._v("比较样式优先级，是先看分层优先级，然后再看同一分层下选择器优先级。")])]),t._v(" "),s("h2",{attrs:{id:"选择器优先级规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择器优先级规则"}},[t._v("#")]),t._v(" 选择器优先级规则")]),t._v(" "),s("ul",[s("li",[t._v("0级：通配符选择器"),s("code",[t._v("*")]),t._v("、选择符、逻辑组合伪类；\n"),s("ul",[s("li",[t._v("选择符指"),s("code",[t._v("+")]),t._v("、"),s("code",[t._v(">")]),t._v("、"),s("code",[t._v("~")]),t._v("、空格、"),s("code",[t._v("||")]),t._v("；")]),t._v(" "),s("li",[s("strong",[t._v("逻辑组合")]),t._v("伪类有"),s("code",[t._v(":not()")]),t._v("、"),s("code",[t._v(":is()")]),t._v("、"),s("code",[t._v(":where")]),t._v("等，其并不影响CSS优先级，影响优先级的是括号里面的选择器；")])])]),t._v(" "),s("li",[t._v("1级：标签选择器，如："),s("code",[t._v("div")]),t._v("、"),s("code",[t._v("p")])]),t._v(" "),s("li",[t._v("2级：类选择器、属性选择器、伪类，如："),s("code",[t._v(".mgl-0")]),t._v("、"),s("code",[t._v("[attr]")]),t._v("、"),s("code",[t._v(":hover")])]),t._v(" "),s("li",[t._v("3级：ID选择器；")]),t._v(" "),s("li",[t._v("4级：style属性内联，即行内样式；")]),t._v(" "),s("li",[t._v("5级："),s("code",[t._v("!important")]),t._v(" "),s("ul",[s("li",[t._v("不要认为使用了该关键字就始终可以覆盖默认样式，有些浏览器自带样式即使使用"),s("code",[t._v("!important")]),t._v("也无法覆盖，这在后面章节会介绍原因（因默认样式、注入样式、用户自定义样式等也存在优先级）")])])])]),t._v(" "),s("p",[t._v("当CSS选择器的优先级数值一样的时候，后渲染(或加载)的选择器的优先级更高，即同级的后面会覆盖前面。")]),t._v(" "),s("p",[t._v("CSS选择器的优先级与DOM元素的层级位置没有任何关系。")]),t._v(" "),s("p",[t._v("一个增加CSS选择器优先级的小技巧，那就是重复选择器自身，如"),s("code",[t._v(".foo.foo")]),t._v("，既提高了优先级，又不会增加耦合；如不喜欢该写法，也可以借助必然会存在的属性选择器，如："),s("code",[t._v(".foo[class]")]),t._v("、"),s("code",[t._v("#foo[id]")])]),t._v(" "),s("h1",{attrs:{id:"选择器的命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择器的命名"}},[t._v("#")]),t._v(" 选择器的命名")]),t._v(" "),s("h2",{attrs:{id:"选择器是否区分大小写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择器是否区分大小写"}},[t._v("#")]),t._v(" 选择器是否区分大小写")]),t._v(" "),s("p",[t._v("HTML中，"),s("strong",[t._v("标签和属性不区分大小写，但属性值要区分大小写")]),t._v("，因此在CSS中：标签选择器不区分大小写、属性选择器中的属性也不区分大小写(但属性值要区分大小写)，而"),s("strong",[t._v("类选择器和ID选择器本质上是属性值")]),t._v("，所以他们也是要区分大小写的。")]),t._v(" "),s("h2",{attrs:{id:"命名合法性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名合法性"}},[t._v("#")]),t._v(" 命名合法性")]),t._v(" "),s("p",[t._v("不能以数字开头，实际并不是严格的不能以数字开头，而是不能直接写数字，需要将其转义一下。其他很多非规范字符只要对它们进行转义重新编码一下也能称为支持的字符类型，想了解可参看3.2章节。")]),t._v(" "),s("p",[t._v("命名建议：")]),t._v(" "),s("ul",[s("li",[t._v("一般情况下不使用单命名，而是使用组合命名，单命名一般用于和其他选择器进行组合修饰和状态表示；")]),t._v(" "),s("li",[t._v("不要使用拼音；")]),t._v(" "),s("li",[t._v("从HTML标签中找灵感，因为标签本身就具有语义；")]),t._v(" "),s("li",[t._v("从HTML特定属性值中找灵感，因为有些属性就代表了该元素的功能，如radio、checkbox、range等；")]),t._v(" "),s("li",[t._v("从CSS伪类和HTML布尔属性中找灵感，如：\n"),s("ul",[s("li",[t._v("激活状态类名"),s("code",[t._v(".active")]),t._v("源自伪类"),s("code",[t._v(":active")]),t._v("；")]),t._v(" "),s("li",[t._v("禁用状态类名"),s("code",[t._v(".disabled")]),t._v("源自伪类"),s("code",[t._v(":disabled")]),t._v("或HTML的"),s("code",[t._v("disabled")]),t._v("属性；")]),t._v(" "),s("li",[t._v("列表选中状态类名"),s("code",[t._v(".selected")]),t._v("源自HTML的"),s("code",[t._v("selected")]),t._v("属性；")]),t._v(" "),s("li",[t._v("选中状态类名"),s("code",[t._v(".checked")]),t._v("源自伪类"),s("code",[t._v(":checked")]),t._v("或HTML的"),s("code",[t._v("checked")]),t._v("属性；")]),t._v(" "),s("li",[t._v("出错状态类名"),s("code",[t._v(".invalid")]),t._v("(一般用于表单)源自伪类"),s("code",[t._v(":invalid")]),t._v("；")])])])]),t._v(" "),s("h2",{attrs:{id:"选择器设计最佳实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择器设计最佳实践"}},[t._v("#")]),t._v(" 选择器设计最佳实践")]),t._v(" "),s("ul",[s("li",[t._v("不要使用ID选择器（id一般用于JS，应与CSS解耦）；")]),t._v(" "),s("li",[t._v("不要嵌套选择器；")])]),t._v(" "),s("p",[t._v("选择器的性能排序："),s("code",[t._v("ID")]),t._v(" > "),s("code",[t._v("类")]),t._v(" > "),s("code",[t._v("标签")]),t._v(" > "),s("code",[t._v("通配符")]),t._v(" > "),s("code",[t._v("属性")]),t._v(" > "),s("code",[t._v("部分伪类")]),t._v("(如"),s("code",[t._v(":checked")]),t._v(")")]),t._v(" "),s("p",[t._v("CSS选择器是从右往左进行匹配渲染的，如"),s("code",[t._v(".box>div")]),t._v("，是先匹配页面所有的"),s("code",[t._v("div")]),t._v("元素，再匹配"),s("code",[t._v(".box")]),t._v("类名元素，若页面内容丰富，HTML结构较复杂，"),s("code",[t._v("div")]),t._v("元素多达上千个，同时这样低效的选择器又多，则会带来明显可感知的渲染性能问题。")]),t._v(" "),s("p",[t._v("每加深一层嵌套，浏览器在进行选择器匹配的时候就会多计算一层，故也就更容易定义渲染性能产生不好的影响。")]),t._v(" "),s("p",[t._v("在使用状态类名是，应遵循一个准则，即状态类型自身绝对不能有CSS样式，只是将其作为一个状态标识符，与其他选择器进行组合应用。")]),t._v(" "),s("h1",{attrs:{id:"精通css选择符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#精通css选择符"}},[t._v("#")]),t._v(" 精通CSS选择符")]),t._v(" "),s("h2",{attrs:{id:"后代选择符空格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后代选择符空格"}},[t._v("#")]),t._v(" 后代选择符空格")]),t._v(" "),s("p",[t._v("IE6+支持。")]),t._v(" "),s("p",[t._v("CSS选择器是独立于整个页面的，也就是页面中满足匹配规则的都将被匹配。")]),t._v(" "),s("p",[s("b",{staticClass:"color-warning"},[t._v("重点：")])]),t._v(" "),s("p",[t._v("像"),s("code",[t._v("querySelectorAll")]),t._v("方法(内部查找元素，不包括自身)中的选择器同样也是全局匹配的，什么意思呢看举例说明，例如："),s("code",[t._v("document.querySelector('#myId').querySelectorAll('div div')")]),t._v("与"),s("code",[t._v("document.querySelectorAll('#myId div div')")]),t._v("是不一样的，前者表示查找"),s("code",[t._v("#myId")]),t._v("元素，再从其所有后代元素查找满足整个页面下"),s("code",[t._v("div div")]),t._v("匹配关系的元素，而后者则只是满足"),s("code",[t._v("#myId div div")]),t._v("关系的元素。")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("myId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("c-1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("c-2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("c-2-1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#myId div div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#myId'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n")])])]),s("p",[t._v("要想"),s("code",[t._v("querySelectorAll")]),t._v("方法后面的选择器不是全局匹配的也是有办法的，可以使用"),s("code",[t._v(":scope")]),t._v("伪类，其作用就是让CSS选择器的作用域局限在某一范围内(调用者内)，例如上面的例子改成下面这样后：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#myId'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("':scope div div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1，将作用域限制在了调用者#myId元素内")]),t._v("\n")])])]),s("p",[t._v("在CSS中"),s("code",[t._v(":scope")]),t._v("伪类没啥用，因为如今的网页本来只有一个作用域，但在JS中意义就不一样，更能发挥它的作用，与上面"),s("code",[t._v("querySelectorAll")]),t._v("类似的API还有"),s("code",[t._v("querySelector()")]),t._v("、"),s("code",[t._v("matches()")]),t._v("、"),s("code",[t._v("Element.closest()")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"子选择符箭头"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子选择符箭头"}},[t._v("#")]),t._v(" 子选择符箭头（>）")]),t._v(" "),s("p",[t._v("IE7+支持。")]),t._v(" "),s("p",[t._v("使用子选择符的主要目的是避免冲突，除此之外尽量不要用，避免带来的高维护成本（因其与HTML的层级关系形成了强绑定，html稍微变一下层级就失效了）。")]),t._v(" "),s("p",[t._v("适合使用子选择符的场景：")]),t._v(" "),s("ol",[s("li",[t._v("状态类名控制。例如使用"),s("code",[t._v(".active")]),t._v("类名进行状态切换，会遇到祖先和后代都存在"),s("code",[t._v(".active")]),t._v("切换的场景，此时子选择符是必须的，以免影响后代元素，如："),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".active > e-module-x")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[t._v("标签受限。例如当"),s("code",[t._v("<li>")]),t._v("标签重复嵌套，同时我们无法修改标签名称或者设置类名的时候（如在使用第三方UI组件的时候），就需要使用子选择符进行精确控制。")]),t._v(" "),s("li",[t._v("层级位置与动态判断。例如一个日期选择组件的弹出面板HTML通常会放在"),s("code",[t._v("<body>")]),t._v("元素下，作为"),s("code",[t._v("<body>")]),t._v("的子元素，再绝对定位位置，但有时候需要以静态布局嵌在页面内的某个位置，这时若我们不方便修改组件源码，则就可以借助子选择符快速打一个补丁："),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":not(body) > e-date-panel")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 表示非body下的日历面板就采用相对定位（只是举例） */")]),t._v("\n")])])])])]),t._v(" "),s("h2",{attrs:{id:"相邻兄弟选择符加号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相邻兄弟选择符加号"}},[t._v("#")]),t._v(" 相邻兄弟选择符加号（+）")]),t._v(" "),s("p",[t._v("IE7+支持。")]),t._v(" "),s("p",[t._v("用于选择"),s("strong",[t._v("紧邻")]),t._v("的"),s("strong",[t._v("后面一个")]),t._v("兄弟元素，其会忽略文本节点和注释节点，只认元素节点。")]),t._v(" "),s("h2",{attrs:{id:"随后兄弟选择符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#随后兄弟选择符"}},[t._v("#")]),t._v(" 随后兄弟选择符（~）")]),t._v(" "),s("p",[t._v("IE7+支持。")]),t._v(" "),s("p",[t._v("其与相邻兄弟选择符类似，只是其可以选择后面的所有兄弟元素，而非只是紧邻的那一个。")]),t._v(" "),s("h3",{attrs:{id:"如何实现前面兄弟选择符的效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何实现前面兄弟选择符的效果"}},[t._v("#")]),t._v(" 如何实现前面兄弟选择符的效果")]),t._v(" "),s("p",[t._v("并没有前面兄弟选择符，但若只是视觉上的前面，则同样可以使用兄弟选择符实现，因为兄弟选择符选择的后面兄弟是HTML结构上的，并非视觉上的，我们可以让后面的兄弟元素视觉上表现是在前面就行。")]),t._v(" "),s("p",[t._v("DOM位置和视觉位置不一致的实现方法很多，常见的如"),s("code",[t._v("float")]),t._v("浮动、"),s("code",[t._v("position")]),t._v("定位、"),s("code",[t._v("margin")]),t._v("外边距偏移、"),s("code",[t._v("transform")]),t._v("变换、"),s("code",[t._v("direction")]),t._v("文档流方向、"),s("code",[t._v("writing-mode")]),t._v("书写模式、"),s("code",[t._v("flex")]),t._v("弹性布局等等。")]),t._v(" "),s("h2",{attrs:{id:"列选择符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列选择符"}},[t._v("#")]),t._v(" 列选择符（||）")]),t._v(" "),s("p",[t._v("至写该笔记时，目前还没有浏览器实现，想了解可看查阅书籍。")]),t._v(" "),s("h1",{attrs:{id:"元素选择器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#元素选择器"}},[t._v("#")]),t._v(" 元素选择器")]),t._v(" "),s("h2",{attrs:{id:"元素选择器的级联语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#元素选择器的级联语法"}},[t._v("#")]),t._v(" 元素选择器的级联语法")]),t._v(" "),s("ul",[s("li",[t._v("元素选择器是唯一不能重复自身的选择器")]),t._v(" "),s("li",[t._v("级联使用的时候元素选择器必须写在最前面")]),t._v(" "),s("li",[t._v("元素选择器是不区分大小写的（但一般都用小写）")])]),t._v(" "),s("p",[t._v("虽然元素选择器不能重复自身来在不耦合其他选择器的情况下提高自身的优先级，但是也还是有其他方法在最小耦合下提高同级别优先级：")]),t._v(" "),s("ul",[s("li",[t._v("因所有标准HTML页面都有"),s("code",[t._v("<html>")]),t._v("和"),s("code",[t._v("<body>")]),t._v("元素，因此可以借助这些标签提高优先级，而又不耦合其他内容，形成通用；")]),t._v(" "),s("li",[t._v("借助"),s("code",[t._v(":not()")]),t._v("伪类，括号里面是任意其他不一样的标签名即可\n"),s("ul",[s("li",[s("code",[t._v("a:not(b)")])])])])]),t._v(" "),s("p",[t._v("推荐吧类选择器放在属性值匹配选择器的后面，因为CSS选择器解析是从右往左进行的，类名放在后面性能会更好(虽然现代浏览器来说这完全可以忽略)，类选择器甚至偶偶放在伪类后面(我们常放在伪类前面)。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v('[attr="value"].aclass {}')])]),t._v(" "),s("li",[s("code",[t._v(":hover.aclass {}")])])]),t._v(" "),s("p",[t._v("默认IE9+才支持自定义元素标签选择器，若要兼容IE8，则需要在"),s("code",[t._v("<head>")]),t._v("中创建类似如下的JS代码段：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IE8下需要添加创建自定义标签的JS，后面声明的自定义标签选择器的样式才有效")]),t._v("\n    document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cus-tag'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("cus-tag")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"通配符选择器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通配符选择器"}},[t._v("#")]),t._v(" 通配符选择器"),s("code",[t._v("*")])]),t._v(" "),s("p",[t._v("通配符选择器"),s("code",[t._v("*")]),t._v("是一个特殊的标签选择器，它可以指代所有类型的标签元素，包括自定义元素，以及"),s("code",[t._v("<script>")]),t._v("、"),s("code",[t._v("<style>")]),t._v("、"),s("code",[t._v("<title>")]),t._v("等元素，但"),s("strong",[t._v("不包括伪元素")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 因通配符不包括伪元素，所以要将样式也应用到所有元素的伪元素就需要像下面的声明 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("*,\n*::before,\n*::after")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("box-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" border-box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h1",{attrs:{id:"属性选择器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性选择器"}},[t._v("#")]),t._v(" 属性选择器")]),t._v(" "),s("h2",{attrs:{id:"id选择器实际可重复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#id选择器实际可重复"}},[t._v("#")]),t._v(" ID选择器实际可重复")]),t._v(" "),s("p",[t._v("可能我们之前的印象中不管是JS的选择器API获取元素，还是CSS的ID选择器设置样式，对于 id 都认为是不能重复的，从语义上将的确如此，我们也推崇不要重复，但语言层面的实际结果来看，语义重复也是可以的，这并不影响功能(JS中不同API会有影响)。原则上我们应该保证ID唯一。")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#btn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 可以同时设置下面的“按钮1”和“按钮2” */")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("按钮1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("按钮2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#btn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#btn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"属性-值-匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性-值-匹配"}},[t._v("#")]),t._v(" 属性(值)匹配")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("[attr]")]),t._v("，属性匹配")]),t._v(" "),s("li",[s("code",[t._v('[attr="val"]')]),t._v("，属性值完全匹配\n"),s("ul",[s("li",[t._v("属性值的引号可省略，如"),s("code",[t._v("[attr=val]")]),t._v("，但若val中有空格，则省略引号时需要对空格进行转义成"),s("code",[t._v("\\0020")]),t._v("，如"),s("code",[t._v('[class="part1 part2"]')]),t._v("=>"),s("code",[t._v("[class=part1\\0020part2]")])])])]),t._v(" "),s("li",[s("code",[t._v('[attr~="val"]')]),t._v("，属性值"),s("strong",[t._v("独立词组")]),t._v("匹配\n"),s("ul",[s("li",[t._v("即"),s("code",[t._v("val")]),t._v("是属性值中的一个独立词组(与其他部分隔开的独立字符串)，如"),s("code",[t._v('<p attr="val part2 part3"></p>')])]),t._v(" "),s("li",[t._v("非常适合多种组合属性值的场景，如元素的定位控制可以单独对每个方向进行匹配："),s("code",[t._v('<p data-align="top center"></p>')]),t._v("=>"),s("code",[t._v('[data-align~="top"]')]),t._v("、"),s("code",[t._v('[data-align~="center"]')])])])]),t._v(" "),s("li",[s("code",[t._v('[attr|="val"]')]),t._v("，属性值开头片段匹配，指属性值要么就是"),s("code",[t._v("val")]),t._v("，要么以"),s("code",[t._v("val-")]),t._v("开头\n"),s("ul",[s("li",[s("code",[t._v('<p attr="val"></p>')]),t._v("，匹配")]),t._v(" "),s("li",[s("code",[t._v('<p attr="val-ue"></p>')]),t._v("，匹配")]),t._v(" "),s("li",[s("code",[t._v('<p attr="val-ue part2"></p>')]),t._v("，匹配")]),t._v(" "),s("li",[s("code",[t._v('<p attr="value"></p>')]),t._v("，不匹配")]),t._v(" "),s("li",[s("code",[t._v('<p attr="val part2"></p>')]),t._v("，不匹配")]),t._v(" "),s("li",[s("code",[t._v('<p attr="part1 val-ue"></p>')]),t._v("，不匹配")])])]),t._v(" "),s("li",[s("code",[t._v('[attr^="val"]')]),t._v("，属性值开头匹配（正则模式），比如"),s("code",[t._v("a")]),t._v("标签链接地址的不同类型展示不同图标("),s("code",[t._v("https:")]),t._v("、"),s("code",[t._v("ftp:")]),t._v("、"),s("code",[t._v("tel:")]),t._v("、"),s("code",[t._v("mmailto:")]),t._v("等等)")]),t._v(" "),s("li",[s("code",[t._v('[attr$="val"]')]),t._v("，属性值结尾匹配（正则模式），比如"),s("code",[t._v("a")]),t._v("标签链接到文件资源时，可以通过匹配文件后缀来展示不同类型文件图标")]),t._v(" "),s("li",[s("code",[t._v('[attr*="val"]')]),t._v("，属性值任意匹配（正则模式），该模式在结合JS交互的封装中匹配"),s("code",[t._v("style")]),t._v("属性非常有用(当然最好用"),s("code",[t._v("class")]),t._v("控制样式)\n"),s("ul",[s("li",[t._v("匹配"),s("code",[t._v("style")]),t._v("属性时需注意，JS设置的"),s("code",[t._v("style")]),t._v("中浏览器会自动在CSS的属性和属性值间添加空格隔开，但直接手写在元素上的"),s("code",[t._v("style")]),t._v("中CSS写的什么样就什么样，不会自动添加空格")]),t._v(" "),s("li",[t._v("IE7虽然支持属性选择器，但不支持"),s("code",[t._v("style")]),t._v("属性的匹配，即"),s("code",[t._v("[style]")]),t._v("相关的在IE7下不支持")]),t._v(" "),s("li",[t._v("IE8下对于可识别的行内样式，其会自动将CSS的属性名转换为大写，而行内CSS在"),s("code",[t._v("style")]),t._v("属性匹配中属于属性值，而属性值默认是严格区分大小写的，所以要进行区分，或者用后面提到的忽略大小写模式"),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v("[style*="),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"display: none"')]),t._v("]"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* JS设置而浏览器自动美化的行内样式，或手写加了空格的情况 */")]),t._v("\n[style*="),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"display:none"')]),t._v("]"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 手写在行内样式且未带空格的情况 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('[style*="DISPLAY: none"]')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* IE8下浏览器自动将行内可识别的CSS属性值转为了大写的情况 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* css body */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[t._v("基于该选择器的"),s("strong",[t._v("搜索过滤效果")]),t._v("，可应用在通讯录、城市列表等搜索中，性能高，代码少，查看"),s("a",{attrs:{href:"https://demo.cssworld.cn/selector/6/3-1.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("Demo"),s("OutboundLink")],1),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("schBox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("输入城市名称或拼音搜索"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-search")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("成都市 chengdu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("成都市"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-search")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("绵阳市 mianyang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("绵阳市"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-search")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("达州市 dazhou"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("达州市"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-search")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("南充市 nanchong"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("南充市"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-search")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("广安市 guangan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("广安市"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" styleEl "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styleEl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  schBox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" keyWord "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    styleEl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyWord "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[data-search]:not([data-search*=\"'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" keyWord "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"]) { display: none; }'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])])])]),t._v(" "),s("p",[t._v("以上"),s("code",[t._v("val")]),t._v("都不能为空字符串。")]),t._v(" "),s("p",[t._v("前四个IE8+完美支持，IE7也支持，只是个别场景中有瑕疵，且IE7的属性要区分大小写。另须注意在IE低版本或兼容模式下不支持"),s("code",[t._v("input")]),t._v("新的"),s("code",[t._v("type")]),t._v("类型时，浏览器会自动将"),s("code",[t._v("type")]),t._v("属性改为"),s("code",[t._v("text")]),t._v("，此时像"),s("code",[t._v('[type="number"]')]),t._v("之类的选择器就无法匹配。")]),t._v(" "),s("p",[t._v("后三个"),s("code",[t._v("^")]),t._v("、"),s("code",[t._v("$")]),t._v("、"),s("code",[t._v("*")]),t._v("属于属性值正则匹配，IE7+就支持，且匹配"),s("strong",[t._v("字符片段")]),t._v("就行，不要求是词组，还支持"),s("strong",[t._v("忽略大小写")]),t._v("(目前移动端可放心使用)，直接在中括号内尾部添加字符"),s("code",[t._v("i")]),t._v("或"),s("code",[t._v("I")]),t._v("，一般都用小写"),s("code",[t._v("i")]),t._v("，如上面的搜索过滤忽略大小写"),s("code",[t._v('[data-search]:not([data-search*="keyWord" i]')]),t._v("，该模式在搜索匹配用户昵称或账户名时非常有用(因这种场景下大小写混用很常见)。")]),t._v(" "),s("h1",{attrs:{id:"用户行为伪类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户行为伪类"}},[t._v("#")]),t._v(" 用户行为伪类")]),t._v(" "),s("h2",{attrs:{id:"鼠标经过伪类-hover"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#鼠标经过伪类-hover"}},[t._v("#")]),t._v(" 鼠标经过伪类 :hover")]),t._v(" "),s("p",[s("code",[t._v(":hover")]),t._v("伪类可以用在所有HTML元素上，包括自定义元素。")]),t._v(" "),s("p",[s("code",[t._v(":hover")]),t._v("触发是即时的，在做浮层显示的时候，可能有时鼠标只是不经意间划过，此时也会触发浮层的立即显示而可能遮挡相邻的其他元素(如自定义的"),s("code",[t._v("title")]),t._v("显示效果)，而被遮挡的相邻元素可能才是我们想要操作的目标元素，这就导致我们要刻意避开这类可能会出现浮层遮挡目标元素的元素，从而影响使用体验。对于该问题，实际可以通过增加"),s("code",[t._v(":hover")]),t._v("延迟效果来增强交互体验，关键代码就是结合"),s("code",[t._v("transtion")]),t._v("使用"),s("code",[t._v("visibility")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[data-title]:before")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("visibility")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transtion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" visibility 0s 0.2s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* transtion 对 display 无过渡效果，但对 visibility 有过渡效果 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[data-title]:hover:before")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("visibility")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" visible"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("使用"),s("code",[t._v("visibility: hidden;")]),t._v("隐藏元素时，元素的空间位置和大小虽然不会消失，但其并不会影响其他元素的交互，其表现就像"),s("code",[t._v("opacity: 0;")]),t._v("+"),s("code",[t._v("pointer-events: none;")]),t._v("占用着位置却看不见也无法选中和交互也不覆盖遮挡其他元素，这比使用"),s("code",[t._v("display")]),t._v("切换元素的显示与隐藏在某些场景下更适用，且所有浏览器都支持。")]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("visibility")]),t._v("开实现元素"),s("code",[t._v(":hover")]),t._v("时的显示与隐藏有个好处："),s("span",{staticStyle:{color:"orange"}},[t._v("其可以结合过渡"),s("code",[t._v("transtion")]),t._v("(IE10+支持)使用来增加延时隐藏，这可以解决当"),s("code",[t._v(":hover")]),t._v("元素与要显示的浮层元素之间存在间隙时，使得鼠标从"),s("code",[t._v(":hover")]),t._v("元素移动到浮层元素时经过这个间隙时(此时已算是移出了hover热区)在过渡时间内浮层元素不会立即隐藏，这对于浮层元素中也允许鼠标进入的情况非常有用")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"激活状态伪类-active"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#激活状态伪类-active"}},[t._v("#")]),t._v(" 激活状态伪类 :active")]),t._v(" "),s("ul",[s("li",[t._v("IE浏览器下"),s("code",[t._v(":active")]),t._v("样式的应用无法冒泡，也就是说当元素和其子元素都设置了"),s("code",[t._v(":active")]),t._v("时，当子元素触发"),s("code",[t._v(":active")]),t._v("时并不会冒泡到上层而触发父元素的"),s("code",[t._v(":active")]),t._v("；")]),t._v(" "),s("li",[t._v("IE浏览器下"),s("code",[t._v("<html>")]),t._v("、"),s("code",[t._v("<body>")]),t._v("元素应用"),s("code",[t._v(":active")]),t._v("伪类设置背景色后，背景色是无法还原的，也就是点击是正确应用了"),s("code",[t._v(":active")]),t._v("的背景色，但抬起鼠标后背景色并不会还原，且无论怎么再次点击都无法还原；")]),t._v(" "),s("li",[t._v("IE7下链接元素必须失焦后才能取消"),s("code",[t._v(":active")]),t._v("时的样式（原则上鼠标抬起就该还原，而不管该链接元素是否失焦）；")]),t._v(" "),s("li",[t._v("键盘访问无法触发"),s("code",[t._v(":active")]),t._v("伪类，"),s("code",[t._v(":focus")]),t._v("到的元素按下回车键时的行为与点击一致，但并不会触发"),s("code",[t._v(":active")]),t._v("伪类；")]),t._v(" "),s("li",[t._v("移动端Safari浏览器下"),s("code",[t._v(":active")]),t._v("伪类默认是无效的，需要设置"),s("code",[t._v("touch")]),t._v("事件才支持(可空回调)，若要求高细节还可使用其一个私有CSS属性实现触摸高亮反馈："),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 touchstart 或 touchend 都可以")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'touchstart'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-tap-highlight-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" skyblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),s("p",[s("code",[t._v(":active")]),t._v("伪类在"),s("del",[t._v("点击上报中的应用，这种上报即使禁用JS也无法阻止")]),t._v("（"),s("span",{staticStyle:{color:"orange"}},[t._v("实测该应用无效，因CSS内容只会加载一次，这里不会因为每次点击都重新去请求图片")]),t._v("）：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 并不能达到上报效果，只有初次点击有效 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".btn:active:after")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("./px.gif?action=click&id=btn1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 通过请求图片上报信息 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 这会导致伪元素直接不会生成，所以始终隐藏状态应该使用 visibility 才有效 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"焦点伪类-focus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#焦点伪类-focus"}},[t._v("#")]),t._v(" 焦点伪类 :focus")]),t._v(" "),s("p",[t._v("IE8+支持，与"),s("code",[t._v(":active")]),t._v("不同，"),s("code",[t._v(":focus")]),t._v("伪类默认只能匹配特定的元素，包括：")]),t._v(" "),s("ul",[s("li",[t._v("非"),s("code",[t._v("disabled")]),t._v("状态的表单元素（"),s("code",[t._v("<button>")]),t._v("按钮也属于表单元素）；")]),t._v(" "),s("li",[t._v("包含"),s("code",[t._v("href")]),t._v("属性的"),s("code",[t._v("<a>")]),t._v("元素；")]),t._v(" "),s("li",[s("code",[t._v("<area>")]),t._v("元素，但可生效的CSS属性有限；")]),t._v(" "),s("li",[t._v("HTML5中的"),s("code",[t._v("<summary>")]),t._v("元素；")])]),t._v(" "),s("p",[t._v("不在上面提到的范围内的普通元素应用"),s("code",[t._v(":focus")]),t._v("是无效的，但满足以下条件之一的普通元素也可以应用"),s("code",[t._v(":focus")]),t._v("伪类：")]),t._v(" "),s("ul",[s("li",[t._v("元素上设置了"),s("code",[t._v("contenteditable")]),t._v("属性，此时该普通元素可输入编辑；")]),t._v(" "),s("li",[t._v("元素上设置了"),s("code",[t._v("tabindex")]),t._v("属性，表示可以通过"),s("code",[t._v("Tab")]),t._v("键进行索引；\n"),s("ul",[s("li",[t._v("若希望元素既可被"),s("code",[t._v("Tab")]),t._v("索引，有可在被点击时触发"),s("code",[t._v(":focus")]),t._v("伪类样式，则可设置为"),s("code",[t._v('tabindex="0"')]),t._v("(或大于0的值)；")]),t._v(" "),s("li",[t._v("若不希望元素可被"),s("code",[t._v("Tab")]),t._v("索引，但可在被点击时触发"),s("code",[t._v(":focus")]),t._v("伪类样式，则可设置为"),s("code",[t._v('tabindex="-1"')]),t._v("；")])])])]),t._v(" "),s("p",[s("code",[t._v(":focus")]),t._v("伪类也是可以不级联其他选择器而作为独立关系型选择器中的一部分使用：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":focus div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":focus + img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("注意：")]),t._v(" 通过"),s("code",[t._v(":focus")]),t._v("来控制元素的显隐效果，在 iOS Safari 浏览器下，元素一旦处于"),s("code",[t._v("focus")]),t._v("状态，除非点击其他可聚焦的元素来转义"),s("code",[t._v("focus")]),t._v("焦点，否则该元素会一直保持"),s("code",[t._v("focus")]),t._v("状态。")]),t._v(" "),s("ul",[s("li",[t._v("解决方法：给祖先容器元素设置"),s("code",[t._v('tabindex="-1"')]),t._v("，同时取消"),s("code",[t._v("outline")]),t._v("样式即可；")]),t._v(" "),s("li",[t._v("若在用JS进行开发时遇到 iOS Safari 下不触发"),s("code",[t._v("blur")]),t._v("事件的问题，也可以用上面的方法解决，但需注意"),s("code",[t._v('tabindex="-1"')]),t._v("设置在"),s("code",[t._v("<body>")]),t._v("元素上是无效的；")]),t._v(" "),s("li",[t._v("上面提到的解决方法只适用于纯展示的情况，若浮层内部有其他交互效果，则此方法就有问题，失焦或焦点转移都会导致浮层消失，此时可能就需要用"),s("code",[t._v(":focus-within")]),t._v("去做了；")])]),t._v(" "),s("p",[s("strong",[t._v("一个页面同一时刻最多只会有一个聚焦的元素。")])]),t._v(" "),s("p",[t._v("模拟浏览器原生的"),s("code",[t._v("focus")]),t._v("轮廓：")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":focus")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("outline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px dotted lightblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("outline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px auto -webkit-focus-ring-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"focus-伪类与键盘无障碍访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#focus-伪类与键盘无障碍访问"}},[t._v("#")]),t._v(" :focus 伪类与键盘无障碍访问")]),t._v(" "),s("p",[t._v("从无障碍访问来说，若要用其他元素模拟按钮元素(或其他表单元素)则推荐使用"),s("code",[t._v("<label>")]),t._v("元素，并使用"),s("code",[t._v("for")]),t._v("属性与实际按钮进行关联，因为使用"),s("code",[t._v("<label>")]),t._v("元素进行模拟既可以保留语义和原生行为，视觉上又能完美兼容。注意两点：")]),t._v(" "),s("ul",[s("li",[t._v("原始表单元素的隐藏，要么设置透明度"),s("code",[t._v("opacity: 0")]),t._v("隐藏，要么剪裁隐藏，不要使用"),s("code",[t._v("visibility: hidden")]),t._v("或"),s("code",[t._v("display: none")]),t._v("进行隐藏，虽然IE9+上功能正常，但"),s("strong",[t._v("后两种隐藏无法被键盘聚焦")]),t._v("；")]),t._v(" "),s("li",[t._v("不要忘记原始表单元素聚焦的时候高亮显示自定义的模拟UI的元素，通常使用相邻兄弟选择符(+)，特殊情况也可使用随后兄弟选择符(~)，如高亮多个元素时；")])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('[type="submit"]')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("clip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0 0 0 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".btn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* button style... */")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":focus + .btn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("outline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px dotted lightblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("outline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px auto -webkit-focus-ring-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("提交"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"内含焦点伪类-focus-within"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内含焦点伪类-focus-within"}},[t._v("#")]),t._v(" 内含焦点伪类 :focus-within")]),t._v(" "),s("p",[t._v("IE不支持该伪类。该伪类与"),s("code",[t._v(":focus")]),t._v("的区别在于"),s("code",[t._v(":focus")]),t._v("只有当前元素处于聚焦状态时才匹配，而"),s("code",[t._v(":focus-within")]),t._v("是在"),s("strong",[t._v("当前元素或者当前元素的任意子元素")]),t._v("(即元素或元素内)处于聚焦状态时都会匹配。")]),t._v(" "),s("h2",{attrs:{id:"可见焦点伪类-focus-visible"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可见焦点伪类-focus-visible"}},[t._v("#")]),t._v(" 可见焦点伪类 :focus-visible")]),t._v(" "),s("p",[t._v("书上称“键盘焦点伪类”，中文意思根据自己理解而言。")]),t._v(" "),s("p",[s("code",[t._v(":focus-visible")]),t._v("伪类匹配的场景是：元素聚焦，同时浏览器认为聚焦轮廓应该显示(这个判断是浏览器自行决定的，CSS非规范定义死的)。什么意思呢，就像一个"),s("code",[t._v("<a>")]),t._v("元素链接一个地址，比较符合期望的效果是鼠标点击聚焦时无需出现轮廓，而使用"),s("code",[t._v("Tab")]),t._v("键盘访问聚焦时需要其显示轮廓以突出当前焦点位置，这是比较理想的交互方式，而有些焦点元素可能不管是点击还是键盘访问都会出现轮廓就使得正常点击时不好看，若直接设置"),s("code",[t._v("outline: none")]),t._v("则又影响键盘访问时的可访问性，所以为了区分类似这两种不同使用场景就出现了"),s("code",[t._v(":focus-visible")]),t._v("伪类，只不过这个是否显示聚焦状态是有个浏览器自行判断的，而就Chrome而言，其认为使用键盘访问时触发的聚焦才是"),s("code",[t._v(":focus-visible")]),t._v("，鼠标点击聚焦的就不匹配，从而可针对键盘访问时单独写样式。")]),t._v(" "),s("h1",{attrs:{id:"url链接-定位伪类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url链接-定位伪类"}},[t._v("#")]),t._v(" URL链接/定位伪类")]),t._v(" "),s("h2",{attrs:{id:"link-visited-hover-active"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#link-visited-hover-active"}},[t._v("#")]),t._v(" :link/:visited/:hover/:active")]),t._v(" "),s("p",[t._v("由于伪类优先级相同，故链接在使用时未避免设置的不生效，应该注意先后顺序由先到后依次应该是："),s("code",[t._v(":link")]),t._v("、"),s("code",[t._v(":visited")]),t._v("、"),s("code",[t._v(":hover")]),t._v("、"),s("code",[t._v(":active")]),t._v("，取首字母简记"),s("code",[t._v("Lv ha")])]),t._v(" "),s("p",[t._v("虽然HTML中原生具有"),s("code",[t._v("href")]),t._v("属性的元素有"),s("code",[t._v("<a>")]),t._v("、"),s("code",[t._v("<link>")]),t._v("、"),s("code",[t._v("<area>")]),t._v("三种，但"),s("code",[t._v(":link")]),t._v("伪类只能匹配"),s("code",[t._v("<a>")]),t._v("元素。")]),t._v(" "),s("p",[s("code",[t._v(":link")]),t._v("伪类可以识别真链接(带有"),s("code",[t._v("href")]),t._v("属性的"),s("code",[t._v("a")]),t._v("标签)：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" skyblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 下面的两个标签都可匹配 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lightblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 只能匹配第二个被认为是链接的 a 标签 */")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("当做纯按钮"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("url-or-hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("链接"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("code",[t._v(":visited")]),t._v("伪类中支持的CSS属性有限(只支持颜色类属性，如文字颜色、背景色、边框色等)，且不能级联"),s("code",[t._v("::before")]),t._v("和"),s("code",[t._v("::after")]),t._v("这些伪元素使用。虽然可以结合像子选择器等其他选择器使用，但支持的属性也一样只有颜色相关的几个，且也不能与伪元素一起使用。")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("a:visited:after")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'已读'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 无效 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("a:visited span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lightblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 有效 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("a:visited span:after")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'已读'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 无效 */")]),t._v("\n")])])]),s("p",[s("code",[t._v(":visited")]),t._v("伪类选择器控制颜色时，虽然在语法上它支持半透明颜色，但实际表现上却要么是纯色，要么全透明（且不支持"),s("code",[t._v("transparent")]),t._v("关键字？）。")]),t._v(" "),s("p",[s("code",[t._v(":visited")]),t._v("伪类选择器中的属性只能重置，而不能凭空设置，也即是进入"),s("code",[t._v(":visited")]),t._v("状态之前的样式中也要设置对应属性，然后在"),s("code",[t._v(":visited")]),t._v("中重置为另一个值。")]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("a:visited")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lightblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gray"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 这里的背景色将不会生效，因为标签选择器中未设置该属性 */")]),t._v("\n")])])]),s("p",[s("code",[t._v(":visited")]),t._v("伪类选择器设置的各颜色即使在该状态下呈现了，也无法通过JS的"),s("code",[t._v("getComputedStyle()")]),t._v("方法获取到对应属性的计算样式，结果仍然会是基础状态样式。")]),t._v(" "),s("h2",{attrs:{id:"any-link-超链接伪类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#any-link-超链接伪类"}},[t._v("#")]),t._v(" :any-link 超链接伪类")]),t._v(" "),s("p",[t._v("IE不支持，该伪类与"),s("code",[t._v(":link")]),t._v("伪类有很多相似之处，但其弥补了"),s("code",[t._v(":link")]),t._v("伪类的很多缺点，其有如下两大特性：")]),t._v(" "),s("ul",[s("li",[t._v("匹配所有设置了"),s("code",[t._v("href")]),t._v("属性的链接元素，包括"),s("code",[t._v("<a>")]),t._v("、"),s("code",[t._v("<link>")]),t._v("、"),s("code",[t._v("<area>")]),t._v("三种元素；")]),t._v(" "),s("li",[t._v("匹配所有匹配"),s("code",[t._v(":link")]),t._v("伪类或者"),s("code",[t._v(":visited")]),t._v("伪类的元素(即该两种状态下都可匹配到)。")])]),t._v(" "),s("p",[t._v("与"),s("code",[t._v("a")]),t._v("标签选择器相比，"),s("code",[t._v(":any-link")]),t._v("伪类可更准确识别链接元素，与"),s("code",[t._v(":link")]),t._v("伪类相比，使用"),s("code",[t._v(":any-link")]),t._v("伪类伪类无需担心"),s("code",[t._v(":visited")]),t._v("伪类浏览器默认样式的干扰。")]),t._v(" "),s("h2",{attrs:{id:"目标伪类-target"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标伪类-target"}},[t._v("#")]),t._v(" 目标伪类 :target")]),t._v(" "),s("p",[t._v("IE9+支持，该伪类是一个与URL地址中的锚点定位强关联的伪类，可用来实现原本很多需要JS才能实现的效果。该伪类"),s("strong",[t._v("匹配URL锚点(hash)对应的元素")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 假设当前页面浏览器地址栏为：https://path/index.html#hash --\x3e")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("li:target")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lightblue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("模块1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 不匹配 --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("模块2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 不匹配 --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("模块3"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 匹配，因此时浏览器地址 hash 与该元素 id 一致 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("部分浏览器(如IE和Firefox)下，"),s("code",[t._v("<a>")]),t._v("元素的"),s("code",[t._v("name")]),t._v("属性值也会被当做是锚点值，此时与地址"),s("code",[t._v("hash")]),t._v("匹配时也会触发浏览器的锚点滚动定位，故一般都不使用"),s("code",[t._v("<a>")]),t._v("加"),s("code",[t._v("name")]),t._v("属性值进行锚点匹配，都是用"),s("code",[t._v("id")]),t._v("进行锚点匹配。")]),t._v(" "),s("p",[t._v("若页面有多个元素使用同一个"),s("code",[t._v("id")]),t._v("，则"),s("code",[t._v(":target")]),t._v("只会匹配第一个元素（IE都会匹配），若想借助"),s("code",[t._v(":target")]),t._v("匹配多个元素，可以借助选择符实现，如父子或兄弟选择符等。")]),t._v(" "),s("p",[t._v("当使用JS修改URL中"),s("code",[t._v("hash")]),t._v("(锚点)值时，也会触发"),s("code",[t._v(":target")]),t._v("伪类对元素的匹配：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'t1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此时就将使 :target 伪类匹配到模块1")]),t._v("\n")])])]),s("p",[t._v("若匹配锚点的元素是"),s("code",[t._v("display: none")]),t._v("隐藏的，虽然浏览器不会触发任何滚动，但是并不影响该元素依然匹配"),s("code",[t._v(":target")]),t._v("伪类，该特性可以实现很多交互效果。")]),t._v(" "),s("h3",{attrs:{id:"target-伪类实现交互举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#target-伪类实现交互举例"}},[t._v("#")]),t._v(" :target 伪类实现交互举例")]),t._v(" "),s("p",[t._v("这些示例都须注意同一个问题："),s("span",{staticStyle:{color:"orange"}},[t._v("在Vue等单页应用中，如果使用的是"),s("code",[t._v("hash")]),t._v("路由模式，则会有影响，不能使用该技术。")])]),t._v(" "),s("h4",{attrs:{id:"展开与收起效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展开与收起效果"}},[t._v("#")]),t._v(" 展开与收起效果")]),t._v(" "),s("demo-block",{attrs:{options:JSON.parse(decodeURI("%7B%7D"))}},[s("template",{slot:"demo"},[[s("render-demo-0")]],2),t._v(" "),s("template",{slot:"source"},[s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("之所以使用单独的占位元素作为锚点定位，再通过兄弟选择器进行相关关系匹配，而不是像传统方法将父元素作为锚点元素，"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token style-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token style language-css"}},[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("是由于当`display`属性的值不是`none`的元素被锚点匹配时，会触发浏览器元素的滚动定位行为"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("，出现跳动，从而影响体验..."),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("articleMore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("hidden")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#articleMore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cs-button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-open")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("阅读更多"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cs-more-p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("该实现方案与“单复选框元素显隐技术”相比有一个很大的好处，那就是可以借助URL地址记住当前页面的交互状态。例如本例中当展开更多内容后在刷新页面，此时内容依然会保持展开状态。在移动一些交互浮层中，通过“:target”显隐技术实现，可以无须借助localStorage就能记住当前页面的浮层显示状态。"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("##"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("cs-button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-open")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("收起"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".cs-more-p,\n  [data-open=false]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":target ~ [data-open=true]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":target ~ .cs-more-p,\n  :target ~ [data-open=false]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])],2),s("h4",{attrs:{id:"选项卡效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项卡效果"}},[t._v("#")]),t._v(" 选项卡效果")])],1)}),[],!1,null,null,null);a.default=p.exports}}]);